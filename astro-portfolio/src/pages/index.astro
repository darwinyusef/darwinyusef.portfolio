---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Chatbot from "../components/Chatbot.astro";
import Testimonials from "../components/Testimonials.astro";
import GalleryMasonry from "../components/GalleryMasonry.astro";
import HomeEventos from "../components/HomeEventos.astro";
import SkillsSection from "../components/SkillsSection.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t("home.title")}>
  <!-- Cursor Follower -->
  <div id="cursor-follower" class="cursor-follower">
    <span id="cursor-text"></span>
  </div>

  <div class="min-h-screen bg-[#0a0a0a]">
    <Header />

    <main class="overflow-hidden px-5">
      <!-- Secci√≥n 1: Texto Big -->
      <section
        class="relative min-h-screen flex items-center justify-center py-20"
      >
        <div class="max-w-[1800px] mx-auto w-full">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
            <!-- Texto Ultra Grande - Izquierda -->
            <div class="lg:col-span-7 space-y-8">
              <h1
                class="text-[clamp(3rem,12vw,12rem)] font-black leading-[0.9] tracking-tighter hero-text"
                style="font-family: 'Inter Tight', system-ui, sans-serif;"
              >
                {
                  lang === "es"
                    ? "EXPERIENCIAS"
                    : lang === "en"
                      ? "GROUND"
                      : "EXPERI√äNCIAS"
                }
                <br />
                <span
                  class="text-transparent bg-clip-text bg-gradient-to-r from-primary via-purple-600 to-pink-600"
                >
                  {
                    lang === "es"
                      ? "DIGITALES"
                      : lang === "en"
                        ? "DIGITAL"
                        : "DIGITA√çS"
                  }
                </span>
                <br />
                {
                  lang === "es"
                    ? "INNOVADORAS"
                    : lang === "en"
                      ? "EXPERIENCES"
                      : "INNOVADORAS"
                }
              </h1>

              <p
                class="text-xl md:text-2xl text-gray-400 max-w-2xl leading-relaxed"
                style={{ fontFamily: "'Inter Tight', system-ui, sans-serif" }}
              >
                {
                  lang === "es"
                    ? "Especialista en IA y desarrollador Full Stack multidisciplinario, creador de soluciones innovadoras y experiencias memorables."
                    : lang === "en"
                      ? "AI Specialist and multidisciplinary Full Stack Developer, creator of innovative solutions and memorable experiences."
                      : "Especialista em IA e desenvolvedor Full Stack multidisciplinar, criador de solu√ß√µes inovadoras e experi√™ncias memor√°veis."
                }
              </p>

              <div class="flex flex-wrap gap-4">
                <a
                  href={lang === "es"
                    ? "/arquitectura"
                    : `/${lang}/arquitectura`}
                  class="px-8 py-4 bg-gradient-to-r from-primary to-purple-600 text-lg font-bold rounded-full transition-all duration-300 hover:scale-105 cursor-hover-target"
                  data-cursor-text={lang === "es"
                    ? "¬°Comencemos!"
                    : lang === "en"
                      ? "Let's start!"
                      : "Vamos come√ßar!"}
                >
                  {
                    lang === "es"
                      ? "Iniciar Proyecto"
                      : lang === "en"
                        ? "Start Project"
                        : "Iniciar Projeto"
                  }
                </a>
                <a
                  href={lang === "es" ? "/services" : `/${lang}/services`}
                  class="px-8 py-4 bg-[#1a1a1a] text-lg font-bold rounded-full transition-all duration-300 border-2 border-gray-800 hover:scale-105 cursor-hover-target"
                  data-cursor-text={lang === "es"
                    ? "Ver servicios"
                    : lang === "en"
                      ? "View services"
                      : "Ver servi√ßos"}
                >
                  {
                    lang === "es"
                      ? "Ver Servicios"
                      : lang === "en"
                        ? "View Services"
                        : "Ver Servi√ßos"
                  }
                </a>
              </div>
            </div>

            <!-- Imagen Crossfade 1 - Derecha -->
            <div class="lg:col-span-5">
              <div
                class="relative w-full aspect-[3/4] rounded-3xl overflow-hidden hover-trigger-image"
                data-hover-image="/img/me14.JPG"
              >
                <div class="crossfade-container" data-images="01,02">
                  <img
                    src="/img/01.png"
                    alt="Project 1"
                    class="crossfade-image active"
                  />
                  <img
                    src="/img/02.png"
                    alt="Project 2"
                    class="crossfade-image"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Secci√≥n 2: Sobre M√≠ con Parallax -->
      <section class="py-32 relative overflow-hidden">
        <!-- Elementos de fondo parallax -->
        <div class="parallax-bg-about absolute inset-0 pointer-events-none">
          <div
            class="parallax-element absolute top-10 right-20 w-80 h-80 bg-primary/5 rounded-full blur-3xl"
            data-speed="0.2"
          >
          </div>
          <div
            class="parallax-element absolute bottom-10 left-20 w-96 h-96 bg-purple-600/5 rounded-full blur-3xl"
            data-speed="0.3"
          >
          </div>
        </div>

        <div class="max-w-[1800px] mx-auto relative z-10 px-6">
          <div
            class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16 items-center"
          >
            <!-- Columna Izquierda: Imagen + Audio -->
            <div class="lg:col-span-5 space-y-8">
              <!-- Imagen de Perfil con Parallax -->
              <div
                class="parallax-profile flex justify-center"
                data-speed="0.15"
              >
                <div class="relative">
                  <!-- Anillos decorativos -->
                  <div
                    class="absolute inset-0 rounded-full bg-gradient-to-br from-primary via-purple-600 to-pink-600 opacity-20 blur-2xl scale-110 animate-pulse"
                  >
                  </div>
                  <div
                    class="absolute -inset-4 rounded-full border-2 border-primary/30 animate-spin-slow"
                  >
                  </div>

                  <div
                    class="relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 rounded-full overflow-hidden ring-4 ring-white/5 hover-trigger-image"
                    data-hover-image="/img/yusef.jpeg"
                  >
                    <img
                      src="/img/muneyusef.png"
                      alt="Yusef Gonz√°lez"
                      class="w-full h-full object-cover"
                    />
                  </div>

                  <!-- Badge flotante -->
                  <div
                    class="absolute -bottom-4 -right-4 bg-gradient-to-br from-primary to-purple-600 px-6 py-3 rounded-full shadow-xl font-bold text-lg animate-float text-white"
                  >
                    <span
                      class="material-symbols-outlined text-white :inline-block mr-2 align-middle"
                      >verified</span
                    >
                    {"Artificial Inteligence"}
                  </div>
                </div>
              </div>

              <!-- Reproductor de Audio de Trayectoria -->
              <div
                class="parallax-audio bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 shadow-xl border border-gray-800"
                data-speed="0.1"
              >
                <div class="flex items-center gap-3 mb-4">
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >play_circle</span
                    >
                  </div>
                  <div>
                    <h3 class="font-bold text-lg">
                      {
                        lang === "es"
                          ? "Mi trayectoria profesional"
                          : lang === "en"
                            ? "Professional Journey"
                            : "Trajet√≥ria Profissional"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Escucha mi historia"
                          : lang === "en"
                            ? "Listen to my story"
                            : "Ou√ßa minha hist√≥ria"
                      }
                    </p>
                  </div>
                </div>

                <div class="audio-player-trajectory">
                  <audio class="hidden" preload="metadata">
                    <source
                      src="/audio/quehacerencrisis.mp3"
                      type="audio/mpeg"
                    />
                  </audio>

                  <div class="flex items-center gap-3">
                    <button
                      class="play-btn-trajectory flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-r from-primary to-purple-600 flex items-center justify-center hover:shadow-lg transition-all duration-300 hover:scale-110 active:scale-95"
                    >
                      <span
                        class="material-symbols-outlined text-white text-xl play-icon-trajectory transition-all duration-200 absolute"
                        >play_arrow</span
                      >
                      <span
                        class="material-symbols-outlined text-white text-xl pause-icon-trajectory hidden transition-all duration-200 absolute"
                        >pause</span
                      >
                    </button>

                    <div class="flex-1 flex items-center gap-2">
                      <span
                        class="current-time-trajectory text-xs text-gray-400 font-mono"
                        >0:00</span
                      >
                      <div
                        class="flex-1 h-2 bg-gray-700 rounded-full overflow-hidden cursor-pointer progress-container-trajectory"
                      >
                        <div
                          class="h-2 bg-gradient-to-r from-primary to-purple-600 rounded-full transition-all progress-bar-trajectory"
                          style="width: 0%"
                        >
                        </div>
                      </div>
                      <span
                        class="duration-time-trajectory text-xs text-gray-400 font-mono"
                        >0:00</span
                      >
                    </div>

                    <button
                      class="stop-btn-trajectory flex-shrink-0 w-10 h-10 rounded-full bg-gray-700 text-gray-300 flex items-center justify-center hover:bg-gray-600 transition-all duration-300"
                    >
                      <span class="material-symbols-outlined text-white text-lg"
                        >stop</span
                      >
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Columna Derecha: Contenido -->
            <div class="lg:col-span-7 space-y-8" id="about">
              <div class="parallax-content" data-speed="0.05">
                <!-- T√≠tulo -->
                <div class="mb-8">
                  <h2
                    class="text-5xl md:text-6xl lg:text-7xl font-black mb-4"
                    style="font-family: 'Inter Tight', system-ui, sans-serif;"
                  >
                    <span
                      class="bg-gradient-to-r from-primary via-purple-600 to-pink-600 bg-clip-text text-transparent"
                    >
                      Yusef Gonz√°lez <small class="text-white text-sm">
                        (@DARWINYUSEF)</small
                      >
                    </span>
                  </h2>
                  <div class="flex items-center gap-3">
                    <div
                      class="h-1 w-20 bg-gradient-to-r from-primary to-purple-600 rounded-full"
                    >
                    </div>
                    <p
                      class="text-2xl md:text-3xl font-bold text-gray-300"
                    >
                      {
                        lang === "es"
                          ? "Sobre M√≠"
                          : lang === "en"
                            ? "About Me"
                            : "Sobre Mim"
                      }
                    </p>
                  </div>
                </div>

                <!-- Descripci√≥n -->
                <div
                  class="space-y-6 text-lg md:text-xl text-gray-400 leading-relaxed"
                >
                  <p class="relative pl-6 border-l-4 border-primary/30">
                    {
                      lang === "es"
                        ? "Soy un ingeniero de software con especializaci√≥n en inteligencia artificial que construye aplicaciones web y m√≥viles de alta calidad, con un fuerte enfoque en la arquitectura de software. Estoy profundamente comprometido con mi √°rea profesional y me apasiona aprender nuevas tecnolog√≠as y resolver problemas complejos."
                        : lang === "en"
                          ? "I am a software engineer specialized in artificial intelligence, building high-quality web and mobile applications with a strong focus on software architecture. I am deeply committed to my professional field and passionate about learning new technologies and solving complex problems."
                          : "Sou um engenheiro de software com especializa√ß√£o em intelig√™ncia artificial, desenvolvendo aplica√ß√µes web e m√≥veis de alta qualidade, com forte foco em arquitetura de software. Sou profundamente comprometido com minha √°rea profissional e apaixonado por aprender novas tecnologias e resolver problemas complexos."
                    }
                  </p>

                  <p class="relative pl-6 border-l-4 border-purple-600/30">
                    {
                      lang === "es"
                        ? "A lo largo de los a√±os he adquirido experiencia como desarrollador de software generalista y, actualmente, como desarrollador de proyectos con inteligencia artificial, orientando mis decisiones hacia un enfoque en arquitectura de software. Esto implica trabajar con distintos paradigmas y m√∫ltiples lenguajes, ya que he participado en numerosos proyectos a lo largo de mi carrera. En mi tiempo libre, disfruto construir proyectos y dedicarme a la educaci√≥n y formaci√≥n de nuevos talentos."
                        : lang === "en"
                          ? "Over the years, I have gained experience as a generalist software developer and currently as a developer of artificial intelligence projects, guiding my decisions toward a software architecture‚Äìfocused approach. This involves working with different paradigms and multiple programming languages, as I have participated in numerous projects throughout my career. In my free time, I enjoy building projects and contributing to education and the training of new talent."
                          : "Ao longo dos anos, adquiri experi√™ncia como desenvolvedor de software generalista e, atualmente, como desenvolvedor de projetos com intelig√™ncia artificial, direcionando minhas decis√µes para uma abordagem focada em arquitetura de software. Isso envolve trabalhar com diferentes paradigmas e m√∫ltiplas linguagens, j√° que participei de diversos projetos ao longo da minha carreira. No meu tempo livre, gosto de desenvolver projetos e me dedicar √† educa√ß√£o e √† forma√ß√£o de novos talentos."
                    }
                  </p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-8">
                  <div
                    class="bg-gradient-to-br from-primary/20 to-purple-600/20 text-gray-400 rounded-xl p-4 text-center"
                  >
                    <div class="text-3xl font-black text-blue-400">
                      Architect
                    </div>
                    {"+ IA"}
                  </div>
                  <div
                    class="bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-xl p-4 text-center"
                  >
                    <div class="text-3xl font-black text-purple-600">
                      Fullstack
                    </div>
                    <div class="text-sm text-gray-400 mt-1">
                      {" + T-shaped engineer"}
                    </div>
                  </div>
                  <div
                    class="bg-gradient-to-br from-pink-600/20 to-primary/20 rounded-xl p-4 text-center"
                  >
                    <div class="text-3xl font-black text-pink-600">
                      Love Code
                    </div>
                    <div class="text-sm text-gray-400 mt-1">
                      {"teaching + Mentoring"}
                    </div>
                  </div>
                </div>

                <!-- Bot√≥n Descargar CV -->
                <div class="mt-8">
                  <button
                    id="download-cv-btn"
                    class="group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary via-purple-600 to-pink-600 font-bold text-lg rounded-full shadow-xl transition-all duration-300 hover:scale-105 cursor-hover-target"
                    data-cursor-text={lang === "es"
                      ? "Descargar CV"
                      : lang === "en"
                        ? "Download CV"
                        : "Baixar CV"}
                  >
                    <span
                      class="material-symbols-outlined text-white text-2xlgroup-hover:animate-bounce"
                      >download</span
                    >
                    <span class="text-white"
                      >{
                        lang === "es"
                          ? "Descargar Curr√≠culum"
                          : lang === "en"
                            ? "Download Resume"
                            : "Baixar Curr√≠culo"
                      }</span
                    >
                    <span
                      class="material-symbols-outlined text-white text-2xlgroup-hover:translate-x-2 transition-transform"
                      >arrow_forward</span
                    >
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Modal Descarga CV -->
      <div
        id="cv-download-modal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
      >
        <div
          class="bg-[#1a1a1a] rounded-2xl max-w-md w-full p-8 relative animate-modal-in"
        >
          <button
            id="close-modal-btn"
            class="absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-gray-700 transition-colors"
          >
            <span class="material-symbols-outlined">close</span>
          </button>

          <div class="text-center mb-6">
            <div
              class="w-16 h-16 bg-gradient-to-br from-primary to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"
            >
              <span class="material-symbols-outlined text-white text-3xl"
                >description</span
              >
            </div>
            <h3 class="text-2xl font-bold mb-2">
              {
                lang === "es"
                  ? "Descargar Curr√≠culum"
                  : lang === "en"
                    ? "Download Resume"
                    : "Baixar Curr√≠culo"
              }
            </h3>
            <p class="text-gray-400">
              {
                lang === "es"
                  ? "Por favor, comparte tu correo electr√≥nico para recibir el CV"
                  : lang === "en"
                    ? "Please share your email to receive the CV"
                    : "Por favor, compartilhe seu e-mail para receber o CV"
              }
            </p>
          </div>

          <form id="cv-download-form" class="space-y-4">
            <div>
              <label class="block text-sm font-semibold text-gray-300 mb-2">
                {
                  lang === "es"
                    ? "Correo Electr√≥nico"
                    : lang === "en"
                      ? "Email Address"
                      : "Endere√ßo de E-mail"
                }
              </label>
              <input
                type="email"
                id="cv-email-input"
                required
                placeholder={lang === "es"
                  ? "tu@email.com"
                  : lang === "en"
                    ? "your@email.com"
                    : "seu@email.com"}
                class="w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-900 focus:border-primary focus:outline-none transition-colors"
              />
            </div>

            <div class="flex items-start gap-3">
              <input
                type="checkbox"
                id="cv-consent-checkbox"
                required
                class="mt-1 w-5 h-5 rounded border-gray-300 text-blue-400 focus:ring-primary"
              />
              <label for="cv-consent-checkbox" class="text-sm text-gray-400">
                {
                  lang === "es"
                    ? "Acepto recibir el curr√≠culum y acepto la pol√≠tica de privacidad"
                    : lang === "en"
                      ? "I agree to receive the resume and accept the privacy policy"
                      : "Concordo em receber o curr√≠culo e aceito a pol√≠tica de privacidade"
                }
              </label>
            </div>

            <button
              type="submit"
              class="w-full py-3 bg-gradient-to-r from-primary to-purple-600 font-bold rounded-xl hover:shadow-lg transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2"
            >
              <span class="material-symbols-outlined">download</span>
              <span
                >{
                  lang === "es"
                    ? "Descargar Ahora"
                    : lang === "en"
                      ? "Download Now"
                      : "Baixar Agora"
                }</span
              >
            </button>
          </form>

          <div
            id="cv-success-message"
            class="hidden mt-4 p-4 bg-green-900/30 text-green-400 rounded-xl text-center"
          >
            <span class="material-symbols-outlined text-whiteinline-block mr-2"
              >check_circle</span
            >
            {
              lang === "es"
                ? "¬°Descarga iniciada!"
                : lang === "en"
                  ? "Download started!"
                  : "Download iniciado!"
            }
          </div>
        </div>
      </div>

      <!-- Secci√≥n 3: Frase Motivadora con Parallax -->
      <section class="py-32 relative overflow-hidden">
        <div
          class="absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"
        >
        </div>

        <!-- Elementos flotantes de fondo con parallax -->
        <div class="parallax-bg absolute inset-0 pointer-events-none">
          <div
            class="parallax-element absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"
            data-speed="0.3"
          >
          </div>
          <div
            class="parallax-element absolute bottom-20 right-10 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl"
            data-speed="0.5"
          >
          </div>
          <div
            class="parallax-element absolute top-1/2 left-1/4 w-64 h-64 bg-pink-600/10 rounded-full blur-3xl"
            data-speed="0.4"
          >
          </div>
        </div>

        <div class="max-w-[1800px] mx-auto relative z-10 px-6">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <!-- Mascota con efecto parallax -->
            <div class="flex justify-center lg:justify-end order-2 lg:order-1">
              <div class="parallax-mascot relative -ml-[10%]" data-speed="0.2">
                <div
                  class="absolute inset-0 bg-gradient-to-br from-primary/20 via-purple-600/20 to-pink-600/20 rounded-full blur-3xl scale-150 animate-pulse"
                >
                </div>
                <img
                  src="/img/mascota2.png"
                  alt="Mascot"
                  class="relative w-full max-w-2xl h-auto drop- transform hover:scale-105 transition-transform duration-500 rounded-2xl hover-trigger-image"
                  data-hover-image="/img/mascota3.png"
                />
              </div>
            </div>

            <!-- Contenido con efecto de texto parallax -->
            <div class="order-1 lg:order-2">
              <div class="relative">
                <h2
                  class="text-2xl md:text-4xl lg:text-5xl font-black leading-tight mb-6"
                  style={{ fontFamily: "'Inter Tight', system-ui, sans-serif" }}
                >
                  <span
                    class="inline-block bg-gradient-to-r from-primary via-purple-600 to-white bg-clip-text text-transparent"
                  >
                    {
                      lang === "es"
                        ? "La arquitectura de software es m√°s alta que la tecnolog√≠a."
                        : lang === "en"
                          ? "Software architecture goes beyond technology."
                          : "A arquitetura de software vai al√©m da tecnologia."
                    }
                  </span>
                </h2>
              </div>

              <div>
                <p
                  class="text-xl md:text-2xl mt-10 text-gray-400 leading-relaxed max-w-4xl"
                >
                  {
                    lang === "es"
                      ? "Se trata de dise√±ar sistemas que tengan sentido hoy y sigan funcionando ma√±ana, cuidando cada decisi√≥n t√©cnica desde el c√≥digo hasta la estructura."
                      : lang === "en"
                        ? "It is about designing systems that make sense today and continue to work tomorrow, caring for every technical decision from code to structure."
                        : "Trata-se de projetar sistemas que fa√ßam sentido hoje e continuem funcionando amanh√£, cuidando de cada decis√£o t√©cnica, do c√≥digo √† estrutura."
                  }
                </p>
                <br />
                {/* Entrada / Filosof√≠a */}
                <p
                  class="text-lg md:text-xl text-gray-300 leading-relaxed max-w-3xl"
                >
                  {
                    lang === "es"
                      ? "Descubre mi filosof√≠a de desarrollo, donde la arquitectura de software se combina con el dise√±o para dar sentido a cada decisi√≥n t√©cnica."
                      : lang === "en"
                        ? "Discover my development philosophy, where software architecture meets design to give meaning to every technical decision."
                        : "Descubra minha filosofia de desenvolvimento, onde a arquitetura de software se combina com o design para dar sentido a cada decis√£o t√©cnica."
                  }
                </p>

                <a
                  href={`/${lang === "es" ? "" : lang + "/"}arquitectura`}
                  class="mt-16 inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary via-purple-600 to-pink-600 text-lg font-bold rounded-full transition-all duration-300 hover:scale-105 group"
                >
                  <span class="material-symbols-outlined text-white text-3xl"
                    >architecture</span
                  >
                  <span>
                    {
                      lang === "es"
                        ? "Ver Arquitectura"
                        : lang === "en"
                          ? "View Architecture"
                          : "Ver Arquitetura"
                    }
                  </span>
                  <span
                    class="material-symbols-outlined text-white text-2xl group-hover:translate-x-1 transition-transform"
                  >
                    arrow_forward
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Secci√≥n 4: Imagen Crossfade Izquierda + Texto Big -->
      <section
        class="relative min-h-screen flex items-center justify-center py-20"
      >
        <div class="max-w-[1800px] mx-auto w-full">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
            <!-- Imagen Crossfade - Izquierda -->
            <div class="lg:col-span-5 order-2 lg:order-1">
              <div
                class="relative w-full aspect-[3/4] rounded-3xl overflow-hidden hover-trigger-image"
                data-hover-image="/img/me13.JPG"
              >
                <div class="crossfade-container" data-images="03,04">
                  <img
                    src="/img/03.png"
                    alt="Project 3"
                    class="crossfade-image active"
                  />
                  <img
                    src="/img/04.png"
                    alt="Project 4"
                    class="crossfade-image"
                  />
                </div>
              </div>
            </div>

            <!-- Texto Ultra Grande - Derecha -->
            <div class="lg:col-span-7 space-y-8 order-1 lg:order-2">
              <h2
                class="text-[clamp(2.5rem,12vw,9rem)] font-black leading-[0.9] ml-[-120px] tracking-tighter"
                style="font-family: 'Inter Tight', system-ui, sans-serif;"
              >
                {lang === "es" ? "BUENAS" : lang === "en" ? "GOOD" : "BOAS"}
                <br />

                <span
                  class="text-transparent bg-clip-text bg-gradient-to-r from-pink-600 via-purple-600 to-primary"
                >
                  {
                    lang === "es"
                      ? "DECISIONES DE"
                      : lang === "en"
                        ? "DECISIONS"
                        : "DECIS√ïES"
                  }
                </span>
                <br />

                {
                  lang === "es"
                    ? "ARQUITECTURA"
                    : lang === "en"
                      ? "ARCHITECTURAL"
                      : "ARQUITET√îNICAS"
                }
              </h2>

              <p
                class="text-xl ml-[-120px] md:text-2xl text-gray-400 max-w-2xl leading-relaxed"
                style="font-family: 'Inter Tight', system-ui, sans-serif;"
              >
                {
                  lang === "es"
                    ? "Las Buenas decisiones que construyen la arquitectura s√≥lida se fundamentan en cada m√≥dulo con prop√≥sito y confiabilidad, cada estructura pensada para escalar."
                    : lang === "en"
                      ? "Good decisions that build solid architecture. Every module with purpose, every structure designed to scale."
                      : "Boas decis√µes que constroem uma arquitetura s√≥lida. Cada m√≥dulo com prop√≥sito, cada estrutura pensada para escalar."
                }
              </p>

              <div class="flex flex-wrap gap-4">
                <a
                  href={lang === "es" ? "/skills" : `/${lang}/skills`}
                  class="px-8 ml-[-120px] py-4 bg-gradient-to-r from-pink-600 to-purple-600 text-lg font-bold rounded-full transition-all duration-300 hover:scale-105 cursor-hover-target"
                  data-cursor-text={lang === "es"
                    ? "Ver habilidades"
                    : lang === "en"
                      ? "View skills"
                      : "Ver habilidades"}
                >
                  {
                    lang === "es"
                      ? "Ver Habilidades"
                      : lang === "en"
                        ? "View Skills"
                        : "Ver Habilidades"
                  }
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Secci√≥n: Galer√≠a Masonry (Pinterest Style) -->
      <section class="py-20">
        <GalleryMasonry lang={lang} />
      </section>

      <!-- Secci√≥n de Eventos Pr√≥ximos -->
      <section class="py-20">
        <HomeEventos />
      </section>

      <!-- Secci√≥n: Mapa Radial + Card de Redes Sociales -->
      <section class="py-20">
        <SkillsSection /> 
      </section>

      <!-- Secci√≥n 5: Texto Big Final -->
      <section
        class="relative min-h-screen flex items-center justify-center py-20"
      >
        <div class="max-w-[1800px] mx-auto w-full">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
            <!-- Texto Ultra Grande - Izquierda -->
            <div class="lg:col-span-7 space-y-8">
              <h2
                class="text-[clamp(3rem,12vw,12rem)] font-black leading-[0.9] tracking-tighter"
                style="font-family: 'Inter Tight', system-ui, sans-serif;"
              >
                {lang === "es" ? "C√ìDIGO" : lang === "en" ? "CODE" : "C√ìDIGO"}
                <br />
                <span
                  class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-600 to-primary"
                >
                  {lang === "es" ? "LIMPIO" : lang === "en" ? "CLEAN" : "LIMPO"}
                </span>
                <br />
                {
                  lang === "es"
                    ? "ESCALABLE"
                    : lang === "en"
                      ? "SCALABLE"
                      : "ESCAL√ÅVEL"
                }
              </h2>

              <p
                class="text-xl md:text-2xl text-gray-400 max-w-2xl leading-relaxed"
                style="font-family: 'Inter Tight', system-ui, sans-serif;"
              >
                {
                  lang === "es"
                    ? "Arquitecturas robustas que crecen con tu negocio. C√≥digo mantenible, testeable y listo para producci√≥n."
                    : lang === "en"
                      ? "Robust architectures that grow with your business. Maintainable, testable code ready for production."
                      : "Arquiteturas robustas que crescem com seu neg√≥cio. C√≥digo mant√≠vel, test√°vel e pronto para produ√ß√£o."
                }
              </p>

              <div class="flex flex-wrap gap-4">
                <a
                  href={lang === "es" ? "/blog" : `/${lang}/blog`}
                  class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-lg font-bold rounded-full transition-all duration-300 hover:scale-105 cursor-hover-target"
                  data-cursor-text={lang === "es"
                    ? "Leer blog"
                    : lang === "en"
                      ? "Read blog"
                      : "Ler blog"}
                >
                  {
                    lang === "es"
                      ? "Leer Blog"
                      : lang === "en"
                        ? "Read Blog"
                        : "Ler Blog"
                  }
                </a>
              </div>
            </div>

            <!-- Imagen Est√°tica Final - Derecha (sin crossfade) -->
            <div class="lg:col-span-5">
              <div
                class="relative w-full aspect-[3/4] rounded-3xl overflow-hidden hover-trigger-image"
                data-hover-image="/img/me04.JPG"
              >
                <img
                  src="/img/05.png"
                  alt="Project 5"
                  class="w-full h-full object-cover"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="mt-16 hidden">
        <div class="border-t border-gray-700 my-8"></div>
        <Testimonials class="hidden" />
      </section>

      <!-- Secci√≥n: M√°s all√° del c√≥digo - Parallax con Husky -->
      <section
        class="py-32 relative overflow-hidden bg-gradient-to-b from-[#0a0a0a] to-[#1a1a1a]"
      >
        <div
          class="absolute inset-0 bg-gradient-to-b from-transparent via-blue-600/5 to-transparent"
        >
        </div>

        <!-- Elementos flotantes de fondo con parallax -->
        <div class="parallax-bg-lifestyle absolute inset-0 pointer-events-none">
          <div
            class="parallax-element absolute top-20 right-10 w-72 h-72 bg-blue-600/10 rounded-full blur-3xl"
            data-speed="0.3"
          >
          </div>
          <div
            class="parallax-element absolute bottom-20 left-10 w-96 h-96 bg-cyan-600/10 rounded-full blur-3xl"
            data-speed="0.5"
          >
          </div>
          <div
            class="parallax-element absolute top-1/2 right-1/4 w-64 h-64 bg-teal-600/10 rounded-full blur-3xl"
            data-speed="0.4"
          >
          </div>
        </div>

        <div class="max-w-[1800px] mx-auto relative z-10 px-6">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <!-- Contenido con efecto de texto parallax -->
            <div class="order-2 lg:order-1 space-y-8">
              <div>
                <div class="relative">
                  <!-- Badge -->
                  <div
                    class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 px-4 py-2 rounded-full mb-6 shadow-lg"
                  >
                    <span class="material-symbols-outlined text-whitetext-base"
                      >pets</span
                    >
                    <span class="font-bold text-sm"
                      >{
                        lang === "es"
                          ? "HABLEMOS - M√ÅS ALL√Å DEL C√ìDIGO"
                          : lang === "en"
                            ? "TELL - BEYOND THE CODE"
                            : "VAMOS CONVERSAR - AL√âM DO C√ìDIGO"
                      }</span
                    >
                  </div>

                  <h2
                    class="text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-black mb-16 leading-tight"
                    style="font-family: 'Inter Tight', system-ui, sans-serif;"
                  >
                    <span
                      class="inline-block bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-600 bg-clip-text text-transparent"
                    >
                      {
                        lang === "es"
                          ? "Un poco de"
                          : lang === "en"
                            ? "a little bit "
                            : "Um pouquinho"
                      }
                    </span>
                    <span class="inline-block">
                      {
                        lang === "es"
                          ? "mi vida"
                          : lang === "en"
                            ? "of my life"
                            : "da minha vida"
                      }
                    </span>
                  </h2>
                </div>
              </div>

              <div>
                <div class="space-y-6">
                  <p
                    class="mt-8 text-xl md:text-2xl text-gray-400 leading-relaxed"
                  >
                    {
                      lang === "es"
                        ? "No todo en mi vida son l√≠neas de c√≥digo, arquitecturas y diagramas. Fuera de la pantalla cultivo pasiones que me mantienen creativo, equilibrado y conectado con lo que realmente importa."
                        : lang === "en"
                          ? "Not everything in my life is lines of code, architectures and diagrams. Outside the screen I cultivate passions that keep me creative, balanced and connected with what really matters."
                          : "Nem tudo na minha vida s√£o linhas de c√≥digo, arquiteturas e diagramas. Fora da tela, cultivo paix√µes que me mant√™m criativo, equilibrado e conectado com o que realmente importa."
                    }
                  </p>

                  <!-- Hobbies cards -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
                    <!-- Card 1: Cocina -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me05.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 bg-opacity-50 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üçΩÔ∏è</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Cocina & Cocteler√≠a"
                              : lang === "en"
                                ? "Cooking & Mixology"
                                : "Cozinha & Coquetelaria"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "Explorar sabores del mundo, preparar platos gourmet y mezclar c√≥cteles creativos ‚Äîmuy parecido a dise√±ar un buen sistema, pero comestible üòÑ."
                            : lang === "en"
                              ? "Exploring world flavors, preparing gourmet dishes and mixing creative cocktails‚Äîmuch like designing a good system, but edible üòÑ."
                              : "Explorar sabores do mundo, preparar pratos gourmet e misturar coquet√©is criativos‚Äîmuito parecido com projetar um bom sistema, mas comest√≠vel üòÑ."
                        }
                      </p>
                    </div>

                    <!-- Card 2: Bicicleta -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me06.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üö¥‚Äç‚ôÇÔ∏è</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Rutas sobre dos ruedas"
                              : lang === "en"
                                ? "Routes on two wheels"
                                : "Rotas sobre duas rodas"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "Recorrer caminos, descubrir lugares especiales y reconectar conmigo mismo mientras pedaleo."
                            : lang === "en"
                              ? "Riding paths, discovering special places and reconnecting with myself while pedaling."
                              : "Percorrer caminhos, descobrir lugares especiais e me reconectar comigo mesmo enquanto pedalo."
                        }
                      </p>
                    </div>

                    <!-- Card 3: M√∫sica -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me08.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üé∏</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "M√∫sica que libera"
                              : lang === "en"
                                ? "Music that frees"
                                : "M√∫sica que liberta"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "Tocar guitarra y bajo es mi v√°lvula de escape creativa. La m√∫sica me ense√±a ritmo, constancia y armon√≠a."
                            : lang === "en"
                              ? "Playing guitar and bass is my creative escape valve. Music teaches me rhythm, consistency and harmony."
                              : "Tocar guitarra e baixo √© minha v√°lvula de escape criativa. A m√∫sica me ensina ritmo, const√¢ncia e harmonia."
                        }
                      </p>
                    </div>

                    <!-- Card 4: Gaming & Anime -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me07.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üéÆ</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Gaming & Anime"
                              : lang === "en"
                                ? "Gaming & Anime"
                                : "Gaming & Anime"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "League of Legends (soy manco, pero feliz üòÖ) y series anime como One Piece. Historias √©picas y mundos complejos: pura inspiraci√≥n."
                            : lang === "en"
                              ? "League of Legends (I'm bad, but happy üòÖ) and anime series like One Piece. Epic stories and complex worlds: pure inspiration."
                              : "League of Legends (sou ruim, mas feliz üòÖ) e s√©ries de anime como One Piece. Hist√≥rias √©picas e mundos complexos: pura inspira√ß√£o."
                        }
                      </p>
                    </div>

                    <!-- Card 5: Fe -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me09.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üìñ</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Fe y prop√≥sito"
                              : lang === "en"
                                ? "Faith and purpose"
                                : "F√© e prop√≥sito"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "La cristiandad y la lectura de las escrituras me ayudan a mantener valores claros, prop√≥sito y una perspectiva m√°s profunda."
                            : lang === "en"
                              ? "Christianity and scripture reading help me maintain clear values, purpose and a deeper perspective."
                              : "O cristianismo e a leitura das escrituras me ajudam a manter valores claros, prop√≥sito e uma perspectiva mais profunda."
                        }
                      </p>
                    </div>

                    <!-- Card 6: Perro -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me10.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üêï</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Aventuras con mi perro"
                              : lang === "en"
                                ? "Adventures with my dog"
                                : "Aventuras com meu cachorro"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                        {
                          lang === "es"
                            ? "Paseos, juegos y caminatas largas son parte de mi rutina para mantener el equilibrio f√≠sico y mental."
                            : lang === "en"
                              ? "Walks, games and long hikes are part of my routine to maintain physical and mental balance."
                              : "Passeios, jogos e caminhadas longas s√£o parte da minha rotina para manter o equil√≠brio f√≠sico e mental."
                        }
                      </p>
                    </div>

                    <!-- Card 8: Pareja -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me12.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">üêï</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Tiempo de calidad"
                              : lang === "en"
                                ? "Quality time"
                                : "Tempo de qualidade"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                       {
                          lang === "es"
                            ? "Momentos compartidos con mi familia. El verdadero √©xito se mide en relaciones sanas y tiempo bien vivido."
                            : lang === "en"
                              ? "Shared moments with my partner. True success is measured in healthy relationships and time well lived."
                              : "Momentos compartilhados com meu parceiro. O verdadeiro sucesso se mede em relacionamentos saud√°veis ‚Äã‚Äãe tempo bem vivido."
                        }
                      </p>
                    </div>


                    <!-- Card 8: Balance -->
                    <div
                      class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 border border-gray-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover-trigger-image"
                      data-hover-image="/img/me03.JPG"
                    >
                      <div class="flex items-center gap-4 mb-3">
                        <div
                          class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg"
                        >
                          <span class="text-2xl">‚ù§Ô∏è</span>
                        </div>
                        <h3 class="font-bold text-lg">
                          {
                            lang === "es"
                              ? "Balance y bienestar"
                              : lang === "en"
                                ? "Balance & wellness"
                                : "Equil√≠brio e bem-estar"
                          }
                        </h3>
                      </div>
                      <p class="text-sm text-gray-400">
                         {
                          lang === "es"
                            ? "Despu√©s de un d√≠a intenso de c√≥digo: salir a caminar, entrenar, jugar o simplemente respirar. El balance es clave."
                            : lang === "en"
                              ? "After an intense day of coding: go for a walk, train, play or just breathe. Balance is key."
                              : "Ap√≥s um dia intenso de c√≥digo: sair para caminhar, treinar, brincar ou simplesmente respirar. O equil√≠brio √© fundamental."
                        }
                      </p>
                    </div>

                  </div>

                  <!-- Quote -->
                  <div class="mt-16 pl-6 border-l-4 border-blue-600">
                    <p class="text-lg italic text-gray-300 font-medium">
                      {
                        lang === "es"
                          ? '"Un buen desarrollador sabe cu√°ndo desconectar. Un gran desarrollador tiene un compa√±ero ‚Äîhumano o peludo‚Äî que se lo recuerda todos los d√≠as."'
                          : lang === "en"
                            ? '"A good developer knows when to disconnect. A great developer has a companion‚Äîhuman or furry‚Äîwho reminds them every day."'
                            : '"Um bom desenvolvedor sabe quando desconectar. Um grande desenvolvedor tem um companheiro‚Äîhumano ou peludo‚Äîque lhe lembra todos os dias."'
                      }
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Imagen del Husky con efecto parallax mejorado -->
            <div class="flex justify-center order-1 lg:order-2">
              <div class="parallax-husky relative" data-speed="0.3">
                <!-- Degradado radial gaussiano de fondo m√°s grande -->
                <div
                  class="absolute inset-0 -z-10"
                  style="background: radial-gradient(ellipse at center, rgba(37, 99, 235, 0.2) 0%, rgba(6, 182, 212, 0.15) 35%, rgba(20, 184, 166, 0.1) 60%, transparent 100%); filter: blur(80px); transform: scale(1.5);"
                >
                </div>

                <!-- Image container con efecto parallax mejorado -->
                <div
                  class="relative flex justify-center items-center parallax-image-container"
                  data-speed="0.4"
                >
                  <img
                    src="/img/husky.png"
                    alt="Yusef's Siberian Husky"
                    class="relative w-4xl h-auto transform hover:scale-110 transition-all duration-700 object-contain mx-auto hover-trigger-image animate-float"
                    style="aspect-ratio: 4/5; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));"
                    data-hover-image="/img/me01.JPG"
                  />

                  <!-- Floating badge con parallax -->
                  <div
                    class="absolute -bottom-6 -right-6 bg-gradient-to-br from-orange-600 to-red-600 px-8 py-4 rounded-2xl hover-trigger-image animate-float"
                    style="animation-delay: 0.5s;"
                    data-hover-image="/img/me11.JPG"
                  >
                    <div class="flex items-center gap-3">
                      <span
                        class="material-symbols-outlined text-white text-3xl animate-bounce"
                        >favorite</span
                      >
                      <span
                        class="font-black text-xl text-white"
                        style="font-family: 'Inter Tight', system-ui, sans-serif;"
                        >Best Friend</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Secci√≥n Contacto con Parallax -->
      <section class="py-32 relative overflow-hidden" id="contact">
        <!-- Elementos de fondo parallax -->
        <div class="parallax-bg-contact absolute inset-0 pointer-events-none">
          <div
            class="parallax-element absolute top-20 left-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"
            data-speed="0.25"
          >
          </div>
          <div
            class="parallax-element absolute bottom-20 right-10 w-80 h-80 bg-purple-600/5 rounded-full blur-3xl"
            data-speed="0.35"
          >
          </div>
          <div
            class="parallax-element absolute top-1/2 left-1/2 w-64 h-64 bg-pink-600/5 rounded-full blur-3xl"
            data-speed="0.3"
          >
          </div>
        </div>

        <div class="max-w-[1600px] mx-auto relative z-10 px-6">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
            <!-- Columna Izquierda: Informaci√≥n de Contacto -->
            <div class="space-y-8">
              <!-- T√≠tulo -->
              <div class="parallax-contact-title" data-speed="0.1">
                <h2
                  class="text-5xl md:text-6xl lg:text-7xl font-black leading-tight mb-4"
                  style="font-family: 'Inter Tight', system-ui, sans-serif;"
                >
                  <span
                    class="bg-gradient-to-r from-primary via-purple-600 to-pink-600 bg-clip-text text-transparent"
                  >
                    {
                      lang === "es"
                        ? "¬°Hablemos!"
                        : lang === "en"
                          ? "Let's Talk!"
                          : "Vamos Conversar!"
                    }
                  </span>
                </h2>
                <div class="flex items-center gap-3">
                  <div
                    class="h-1 w-20 bg-gradient-to-r from-primary to-purple-600 rounded-full"
                  >
                  </div>
                  <p
                    class="text-2xl md:text-3xl font-bold text-gray-300"
                  >
                    {t("home.contactMe")}
                  </p>
                </div>
              </div>

              <!-- Descripci√≥n -->
              <div class="parallax-contact-desc" data-speed="0.15">
                <p class="text-xl text-gray-400 leading-relaxed">
                  {t("home.letConnect")}
                </p>
              </div>

              <!-- Tarjetas de Contacto -->
              <div class="space-y-4 parallax-contact-cards" data-speed="0.2">
                <!-- Email -->
                <a
                  href="mailto:wsgestor@gmail.com"
                  class="group flex items-center gap-4 bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 shadow-xl border border-gray-800 hover:-translate-y-1 transition-all duration-300 cursor-hover-target"
                  data-cursor-text={lang === "es"
                    ? "Env√≠ame un correo"
                    : lang === "en"
                      ? "Send me an email"
                      : "Me envie um email"}
                >
                  <div
                    class="flex-shrink-0 w-14 h-14 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >mail</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-1">Email</h3>
                    <p class="text-blue-400 font-semibold">
                      wsgestor@gmail.com
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-whitetext-gray-400 group-hover:translate-x-2 transition-transform"
                    >arrow_forward</span
                  >
                </a>

                <!-- Ubicaci√≥n -->
                <div
                  class="flex items-center gap-4 bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl p-6 shadow-xl border border-gray-800"
                >
                  <div
                    class="flex-shrink-0 w-14 h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >location_on</span
                    >
                  </div>
                  <div>
                    <h3 class="font-bold text-lg mb-1">
                      {
                        lang === "es"
                          ? "Ubicaci√≥n"
                          : lang === "en"
                            ? "Location"
                            : "Localiza√ß√£o"
                      }
                    </h3>
                    <p class="text-gray-400">Remote / Global</p>
                  </div>
                </div>

                <!-- Disponibilidad -->
                <div
                  class="flex items-center gap-4 from-green-900/20 to-emerald-900/20 rounded-2xl p-6 shadow-xl border border-green-800/30"
                >
                  <div
                    class="flex-shrink-0 w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >schedule</span
                    >
                  </div>
                  <div>
                    <h3 class="font-bold text-lg mb-1">
                      {
                        lang === "es"
                          ? "Disponibilidad"
                          : lang === "en"
                            ? "Availability"
                            : "Disponibilidade"
                      }
                    </h3>
                    <div class="flex items-center gap-2">
                      <div
                        class="w-2 h-2 bg-green-500 rounded-full animate-pulse"
                      >
                      </div>
                      <p
                        class="text-green-400 font-semibold"
                      >
                        {
                          lang === "es"
                            ? "Disponible para proyectos"
                            : lang === "en"
                              ? "Available for projects"
                              : "Dispon√≠vel para projetos"
                        }
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Columna Derecha: Formulario -->
            <div class="parallax-contact-form" data-speed="0.05">
              <div
                class="bg-[#1a1a1a]/80 backdrop-blur-xl rounded-3xl p-8 md:p-10 border border-gray-800"
              >
                <h3 class="text-3xl font-bold mb-6">
                  {
                    lang === "es"
                      ? "Env√≠ame un mensaje"
                      : lang === "en"
                        ? "Send me a message"
                        : "Envie-me uma mensagem"
                  }
                </h3>

                <form class="space-y-6" id="contact-form">
                  <!-- Nombre -->
                  <div class="form-group">
                    <label
                      class="block text-sm font-semibold text-gray-300 mb-2"
                      for="name"
                    >
                      {
                        lang === "es"
                          ? "Nombre"
                          : lang === "en"
                            ? "Name"
                            : "Nome"
                      }
                    </label>
                    <div class="relative">
                      <div
                        class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"
                      >
                        <span class="material-symbols-outlined text-gray-400"
                          >person</span
                        >
                      </div>
                      <input
                        class="w-full pl-12 pr-4 py-3 bg-gray-900 border-2 border-gray-700 rounded-xl focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-gray-300"
                        id="name"
                        name="name"
                        placeholder={lang === "es"
                          ? "Tu nombre"
                          : lang === "en"
                            ? "Your name"
                            : "Seu nome"}
                        type="text"
                        required
                      />
                    </div>
                  </div>

                  <!-- Email -->
                  <div class="form-group">
                    <label
                      class="block text-sm font-semibold text-gray-300 mb-2"
                      for="email"
                    >
                      {t("contact.email")}
                    </label>
                    <div class="relative">
                      <div
                        class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"
                      >
                        <span class="material-symbols-outlined text-gray-400"
                          >mail</span
                        >
                      </div>
                      <input
                        class="w-full pl-12 pr-4 py-3 bg-gray-900 border-2 border-gray-700 rounded-xl text-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none"
                        id="email"
                        name="email"
                        placeholder={lang === "es"
                          ? "tu@email.com"
                          : lang === "en"
                            ? "your@email.com"
                            : "seu@email.com"}
                        type="email"
                        required
                      />
                    </div>
                  </div>

                  <!-- Mensaje -->
                  <div class="form-group">
                    <label
                      class="block text-sm font-semibold text-gray-300 mb-2"
                      for="message"
                    >
                      {t("contact.message")}
                    </label>
                    <div class="relative">
                      <div class="absolute top-3 left-4 pointer-events-none">
                        <span class="material-symbols-outlined text-gray-400"
                          >edit_note</span
                        >
                      </div>
                      <textarea
                        class="w-full pl-12 pr-4 py-3 bg-gray-900 border-2 border-gray-700 rounded-xl text-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none resize-none"
                        id="message"
                        name="message"
                        placeholder={lang === "es"
                          ? "Escribe tu mensaje aqu√≠..."
                          : lang === "en"
                            ? "Write your message here..."
                            : "Escreva sua mensagem aqui..."}
                        rows="5"
                        required></textarea>
                    </div>
                  </div>

                  <!-- Bot√≥n Submit -->
                  <button
                    type="submit"
                    class="group w-full relative inline-flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-primary via-purple-600 to-pink-600 text-gray-300 font-bold text-lg rounded-xl shadow-xl transition-all duration-300 hover:scale-105 overflow-hidden"
                  >
                    <span class="relative z-10 flex items-center gap-3">
                      <span
                        class="material-symbols-outlined text-white text-2xlgroup-hover:rotate-12 transition-transform"
                        >send</span
                      >
                      <span>{t("contact.send")}</span>
                      <span
                        class="material-symbols-outlined text-white text-2xlgroup-hover:translate-x-2 transition-transform"
                        >arrow_forward</span
                      >
                    </span>
                    <div
                      class="absolute inset-0 bg-gradient-to-r from-pink-600 via-purple-600 to-primary opacity-0 group-hover:opacity-100 transition-opacity"
                    >
                    </div>
                  </button>
                </form>

                <!-- Mensaje de √©xito/error -->
                <div
                  id="contact-status-message"
                  class="hidden mt-6 p-4 rounded-xl text-center"
                >
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ Section - Contrataci√≥n y Mentoring -->
      <section id="faq" class="py-20 px-6">
        <div class="max-w-4xl mx-auto">
          <!-- Header -->
          <div class="text-center mb-16">
            <div
              class="inline-flex items-center gap-2 bg-primary/10 text-blue-400 px-4 py-2 rounded-full text-sm font-semibold mb-6"
            >
              <span class="material-symbols-outlined text-lg">help</span>
              <span
                >{
                  lang === "es"
                    ? "Preguntas Frecuentes"
                    : lang === "en"
                      ? "FAQ"
                      : "Perguntas Frequentes"
                }</span
              >
            </div>
            <h2
              class="text-4xl md:text-5xl font-black mb-6"
              style="font-family: 'Inter Tight', system-ui, sans-serif;"
            >
              {
                lang === "es"
                  ? "¬øC√≥mo trabajar conmigo?"
                  : lang === "en"
                    ? "How to work with me?"
                    : "Como trabalhar comigo?"
              }
            </h2>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto">
              {
                lang === "es"
                  ? "Respuestas a las preguntas m√°s comunes sobre contrataci√≥n de proyectos, mentoring y apoyo empresarial en arquitectura de software."
                  : lang === "en"
                    ? "Answers to the most common questions about hiring for projects, mentoring, and enterprise support in software architecture."
                    : "Respostas √†s perguntas mais comuns sobre contrata√ß√£o de projetos, mentoria e suporte empresarial em arquitetura de software."
              }
            </p>
          </div>

          <!-- FAQ Items -->
          <div class="space-y-4">
            <!-- FAQ 1: Proceso de contrataci√≥n -->
            <div
              class="faq-item bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-primary/50"
            >
              <div class="p-6 flex items-start justify-between gap-4">
                <button
                  class="faq-question flex items-start gap-4 flex-1 text-left group"
                >
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center flex-shrink-0"
                  >
                    <span class="material-symbols-outlined text-white"
                      >rocket_launch</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-2">
                      {
                        lang === "es"
                          ? "¬øC√≥mo inicio un proyecto contigo?"
                          : lang === "en"
                            ? "How do I start a project with you?"
                            : "Como inicio um projeto com voc√™?"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Proceso de contrataci√≥n y primeros pasos"
                          : lang === "en"
                            ? "Hiring process and first steps"
                            : "Processo de contrata√ß√£o e primeiros passos"
                      }
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-gray-400 group-hover:text-blue-400 transition-all duration-300 faq-icon ml-4"
                    >expand_more</span
                  >
                </button>
                <button
                  class="faq-video-btn flex-shrink-0 w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg"
                  data-video-url="https://youtube.com/shorts/4d_K-DYSi5M"
                  data-video-title="Proceso de Contrataci√≥n"
                  title="Ver video explicativo"
                >
                  <span class="material-symbols-outlined text-white text-lg"
                    >play_arrow</span
                  >
                </button>
              </div>
              <div class="faq-answer hidden px-6 pb-6">
                <div class="pl-16 text-gray-300 space-y-4">
                  <p>
                    {
                      lang === "es"
                        ? "El proceso es simple y transparente:"
                        : lang === "en"
                          ? "The process is simple and transparent:"
                          : "O processo √© simples e transparente:"
                    }
                  </p>
                  <ol class="list-decimal list-inside space-y-3 text-sm">
                    <li>
                      <strong class="text-blue-400"
                        >{
                          lang === "es"
                            ? "Contacto inicial:"
                            : lang === "en"
                              ? "Initial contact:"
                              : "Contato inicial:"
                        }</strong
                      >
                      {
                        lang === "es"
                          ? "Completa el formulario de contacto o escr√≠beme directamente."
                          : lang === "en"
                            ? "Fill out the contact form or write to me directly."
                            : "Preencha o formul√°rio de contato ou escreva-me diretamente."
                      }
                    </li>
                    <li>
                      <strong class="text-blue-400"
                        >{
                          lang === "es"
                            ? "Reuni√≥n discovery:"
                            : lang === "en"
                              ? "Discovery meeting:"
                              : "Reuni√£o de descoberta:"
                        }</strong
                      >
                      {
                        lang === "es"
                          ? "Agendamos una videollamada para entender tus necesidades, objetivos y contexto t√©cnico."
                          : lang === "en"
                            ? "We schedule a video call to understand your needs, goals and technical context."
                            : "Agendamos uma videochamada para entender suas necessidades, objetivos e contexto t√©cnico."
                      }
                    </li>
                    <li>
                      <strong class="text-blue-400"
                        >{
                          lang === "es"
                            ? "Propuesta t√©cnica:"
                            : lang === "en"
                              ? "Technical proposal:"
                              : "Proposta t√©cnica:"
                        }</strong
                      >
                      {
                        lang === "es"
                          ? "Elaboro una propuesta detallada con alcance, tecnolog√≠as, timeline y presupuesto."
                          : lang === "en"
                            ? "I prepare a detailed proposal with scope, technologies, timeline and budget."
                            : "Elaboro uma proposta detalhada com escopo, tecnologias, cronograma e or√ßamento."
                      }
                    </li>
                    <li>
                      <strong class="text-blue-400"
                        >{
                          lang === "es"
                            ? "Inicio del proyecto:"
                            : lang === "en"
                              ? "Project kickoff:"
                              : "In√≠cio do projeto:"
                        }</strong
                      >
                      {
                        lang === "es"
                          ? "Una vez aprobada, iniciamos con metodolog√≠as √°giles y comunicaci√≥n continua."
                          : lang === "en"
                            ? "Once approved, we start with agile methodologies and continuous communication."
                            : "Uma vez aprovada, iniciamos com metodologias √°geis e comunica√ß√£o cont√≠nua."
                      }
                    </li>
                  </ol>
                  <a
                    href="#contact"
                    class="inline-flex items-center gap-2 text-blue-400 hover:underline text-sm font-semibold mt-4"
                  >
                    <span
                      >{
                        lang === "es"
                          ? "Iniciar conversaci√≥n"
                          : lang === "en"
                            ? "Start conversation"
                            : "Iniciar conversa"
                      }</span
                    >
                    <span class="material-symbols-outlined text-sm"
                      >arrow_forward</span
                    >
                  </a>
                </div>
              </div>
            </div>

            <!-- FAQ 2: Mentoring -->
            <div
              class="faq-item bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-primary/50"
            >
              <div class="p-6 flex items-start justify-between gap-4">
                <button
                  class="faq-question flex items-start gap-4 flex-1 text-left group"
                >
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center flex-shrink-0"
                  >
                    <span class="material-symbols-outlined text-white"
                      >school</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-2">
                      {
                        lang === "es"
                          ? "¬øOfreces mentoring o coaching t√©cnico?"
                          : lang === "en"
                            ? "Do you offer mentoring or technical coaching?"
                            : "Voc√™ oferece mentoria ou coaching t√©cnico?"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Acompa√±amiento personalizado para equipos y desarrolladores"
                          : lang === "en"
                            ? "Personalized support for teams and developers"
                            : "Acompanhamento personalizado para equipes e desenvolvedores"
                      }
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-gray-400 group-hover:text-blue-400 transition-all duration-300 faq-icon ml-4"
                    >expand_more</span
                  >
                </button>
                <button
                  class="faq-video-btn flex-shrink-0 w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg"
                  data-video-url="https://youtube.com/shorts/4d_K-DYSi5M"
                  data-video-title="Mentoring y Coaching"
                  title="Ver video explicativo"
                >
                  <span class="material-symbols-outlined text-white text-lg"
                    >play_arrow</span
                  >
                </button>
              </div>
              <div class="faq-answer hidden px-6 pb-6">
                <div class="pl-16 text-gray-300 space-y-4">
                  <p>
                    {
                      lang === "es"
                        ? "¬°S√≠! Ofrezco programas de mentoring enfocados en:"
                        : lang === "en"
                          ? "Yes! I offer mentoring programs focused on:"
                          : "Sim! Ofere√ßo programas de mentoria focados em:"
                    }
                  </p>
                  <ul class="space-y-3 text-sm">
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-blue-400 text-lg mt-0.5"
                        >check_circle</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Arquitectura de Software:"
                              : lang === "en"
                                ? "Software Architecture:"
                                : "Arquitetura de Software:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Microservicios, DDD, arquitecturas limpias, patrones y mejores pr√°cticas."
                              : lang === "en"
                                ? "Microservices, DDD, clean architectures, patterns and best practices."
                                : "Microsservi√ßos, DDD, arquiteturas limpas, padr√µes e melhores pr√°ticas."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-blue-400 text-lg mt-0.5"
                        >check_circle</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Inteligencia Artificial:"
                              : lang === "en"
                                ? "Artificial Intelligence:"
                                : "Intelig√™ncia Artificial:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Integraci√≥n de IA en productos, machine learning, agentes inteligentes y automatizaci√≥n."
                              : lang === "en"
                                ? "AI integration in products, machine learning, intelligent agents and automation."
                                : "Integra√ß√£o de IA em produtos, machine learning, agentes inteligentes e automa√ß√£o."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-blue-400 text-lg mt-0.5"
                        >check_circle</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Liderazgo t√©cnico:"
                              : lang === "en"
                                ? "Technical leadership:"
                                : "Lideran√ßa t√©cnica:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Gesti√≥n de equipos, code reviews, cultura de calidad y desarrollo profesional."
                              : lang === "en"
                                ? "Team management, code reviews, quality culture and professional development."
                                : "Gest√£o de equipes, revis√µes de c√≥digo, cultura de qualidade e desenvolvimento profissional."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-blue-400 text-lg mt-0.5"
                        >check_circle</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Stack t√©cnico moderno:"
                              : lang === "en"
                                ? "Modern tech stack:"
                                : "Stack t√©cnico moderno:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "React, Node.js, Python, TypeScript, cloud (AWS, Azure) y DevOps."
                              : lang === "en"
                                ? "React, Node.js, Python, TypeScript, cloud (AWS, Azure) and DevOps."
                                : "React, Node.js, Python, TypeScript, cloud (AWS, Azure) e DevOps."
                          }</span
                        >
                      </div>
                    </li>
                  </ul>
                  <p class="text-sm text-gray-400 italic">
                    {
                      lang === "es"
                        ? "Sesiones individuales o en equipo, remotas, con seguimiento continuo."
                        : lang === "en"
                          ? "Individual or team sessions, remote, with continuous follow-up."
                          : "Sess√µes individuais ou em equipe, remotas, com acompanhamento cont√≠nuo."
                    }
                  </p>
                </div>
              </div>
            </div>

            <!-- FAQ 3: Apoyo Empresarial -->
            <div
              class="faq-item bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-primary/50"
            >
              <div class="p-6 flex items-start justify-between gap-4">
                <button
                  class="faq-question flex items-start gap-4 flex-1 text-left group"
                >
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center flex-shrink-0"
                  >
                    <span class="material-symbols-outlined text-white"
                      >business</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-2">
                      {
                        lang === "es"
                          ? "¬øQu√© incluye el apoyo empresarial en arquitectura?"
                          : lang === "en"
                            ? "What does enterprise architecture support include?"
                            : "O que inclui o suporte empresarial em arquitetura?"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Consultor√≠a estrat√©gica y transformaci√≥n digital"
                          : lang === "en"
                            ? "Strategic consulting and digital transformation"
                            : "Consultoria estrat√©gica e transforma√ß√£o digital"
                      }
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-gray-400 group-hover:text-blue-400 transition-all duration-300 faq-icon ml-4"
                    >expand_more</span
                  >
                </button>
                <button
                  class="faq-video-btn flex-shrink-0 w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg"
                  data-video-url="https://youtube.com/shorts/4d_K-DYSi5M"
                  data-video-title="Apoyo Empresarial"
                  title="Ver video explicativo"
                >
                  <span class="material-symbols-outlined text-white text-lg"
                    >play_arrow</span
                  >
                </button>
              </div>
              <div class="faq-answer hidden px-6 pb-6">
                <div class="pl-16 text-gray-300 space-y-4">
                  <p>
                    {
                      lang === "es"
                        ? "Ofrezco servicios especializados para empresas que buscan evolucionar su arquitectura tecnol√≥gica:"
                        : lang === "en"
                          ? "I offer specialized services for companies looking to evolve their technology architecture:"
                          : "Ofere√ßo servi√ßos especializados para empresas que buscam evoluir sua arquitetura tecnol√≥gica:"
                    }
                  </p>
                  <div class="grid md:grid-cols-2 gap-4 text-sm">
                    <div
                      class="bg-gray-900/50 rounded-xl p-4 border border-gray-800"
                    >
                      <div class="flex items-center gap-2 mb-2">
                        <span class="material-symbols-outlined text-blue-400"
                          >analytics</span
                        >
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Evaluaci√≥n t√©cnica"
                              : lang === "en"
                                ? "Technical assessment"
                                : "Avalia√ß√£o t√©cnica"
                          }</strong
                        >
                      </div>
                      <p class="text-gray-400">
                        {
                          lang === "es"
                            ? "Auditor√≠a de arquitectura actual, identificaci√≥n de deudas t√©cnicas y puntos cr√≠ticos."
                            : lang === "en"
                              ? "Current architecture audit, identification of technical debts and critical points."
                              : "Auditoria de arquitetura atual, identifica√ß√£o de d√≠vidas t√©cnicas e pontos cr√≠ticos."
                        }
                      </p>
                    </div>

                    <div
                      class="bg-gray-900/50 rounded-xl p-4 border border-gray-800"
                    >
                      <div class="flex items-center gap-2 mb-2">
                        <span class="material-symbols-outlined text-blue-400"
                          >route</span
                        >
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Roadmap tecnol√≥gico"
                              : lang === "en"
                                ? "Technology roadmap"
                                : "Roadmap tecnol√≥gico"
                          }</strong
                        >
                      </div>
                      <p class="text-gray-400">
                        {
                          lang === "es"
                            ? "Dise√±o de hoja de ruta para migraci√≥n a arquitecturas modernas (microservicios, cloud-native)."
                            : lang === "en"
                              ? "Roadmap design for migration to modern architectures (microservices, cloud-native)."
                              : "Design de roteiro para migra√ß√£o para arquiteturas modernas (microsservi√ßos, cloud-native)."
                        }
                      </p>
                    </div>

                    <div
                      class="bg-gray-900/50 rounded-xl p-4 border border-gray-800"
                    >
                      <div class="flex items-center gap-2 mb-2">
                        <span class="material-symbols-outlined text-blue-400"
                          >flag</span
                        >
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Frameworks TOGAF"
                              : lang === "en"
                                ? "TOGAF Frameworks"
                                : "Frameworks TOGAF"
                          }</strong
                        >
                      </div>
                      <p class="text-gray-400">
                        {
                          lang === "es"
                            ? "Implementaci√≥n de marcos de arquitectura empresarial est√°ndar de la industria."
                            : lang === "en"
                              ? "Implementation of industry-standard enterprise architecture frameworks."
                              : "Implementa√ß√£o de frameworks de arquitetura empresarial padr√£o da ind√∫stria."
                        }
                      </p>
                    </div>

                    <div
                      class="bg-gray-900/50 rounded-xl p-4 border border-gray-800"
                    >
                      <div class="flex items-center gap-2 mb-2">
                        <span class="material-symbols-outlined text-blue-400"
                          >support_agent</span
                        >
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Acompa√±amiento continuo"
                              : lang === "en"
                                ? "Continuous support"
                                : "Acompanhamento cont√≠nuo"
                          }</strong
                        >
                      </div>
                      <p class="text-gray-400">
                        {
                          lang === "es"
                            ? "Asesor√≠a t√©cnica durante la implementaci√≥n, code reviews y capacitaci√≥n del equipo."
                            : lang === "en"
                              ? "Technical consulting during implementation, code reviews and team training."
                              : "Assessoria t√©cnica durante a implementa√ß√£o, revis√µes de c√≥digo e treinamento da equipe."
                        }
                      </p>
                    </div>
                  </div>
                  <a
                    href="/arquitectura"
                    class="inline-flex items-center gap-2 text-blue-400 hover:underline text-sm font-semibold mt-4"
                  >
                    <span
                      >{
                        lang === "es"
                          ? "Ver m√°s sobre arquitectura empresarial"
                          : lang === "en"
                            ? "Learn more about enterprise architecture"
                            : "Saiba mais sobre arquitetura empresarial"
                      }</span
                    >
                    <span class="material-symbols-outlined text-sm"
                      >arrow_forward</span
                    >
                  </a>
                </div>
              </div>
            </div>

            <!-- FAQ 4: Modalidades de trabajo -->
            <div
              class="faq-item bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-primary/50"
            >
              <div class="p-6 flex items-start justify-between gap-4">
                <button
                  class="faq-question flex items-start gap-4 flex-1 text-left group"
                >
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center flex-shrink-0"
                  >
                    <span class="material-symbols-outlined text-white"
                      >work</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-2">
                      {
                        lang === "es"
                          ? "¬øCu√°les son las modalidades de colaboraci√≥n?"
                          : lang === "en"
                            ? "What are the collaboration modes?"
                            : "Quais s√£o as modalidades de colabora√ß√£o?"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Opciones flexibles seg√∫n tus necesidades"
                          : lang === "en"
                            ? "Flexible options according to your needs"
                            : "Op√ß√µes flex√≠veis de acordo com suas necessidades"
                      }
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-gray-400 group-hover:text-blue-400 transition-all duration-300 faq-icon ml-4"
                    >expand_more</span
                  >
                </button>
                <button
                  class="faq-video-btn flex-shrink-0 w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg"
                  data-video-url="https://youtube.com/shorts/4d_K-DYSi5M"
                  data-video-title="Modalidades de Colaboraci√≥n"
                  title="Ver video explicativo"
                >
                  <span class="material-symbols-outlined text-white text-lg"
                    >play_arrow</span
                  >
                </button>
              </div>
              <div class="faq-answer hidden px-6 pb-6">
                <div class="pl-16 text-gray-300 space-y-4">
                  <p>
                    {
                      lang === "es"
                        ? "Trabajo bajo diferentes esquemas de colaboraci√≥n:"
                        : lang === "en"
                          ? "I work under different collaboration schemes:"
                          : "Trabalho sob diferentes esquemas de colabora√ß√£o:"
                    }
                  </p>
                  <div class="space-y-3 text-sm">
                    <div
                      class="flex items-start gap-3 p-3 bg-gray-900/30 rounded-lg"
                    >
                      <span
                        class="material-symbols-outlined text-blue-400 text-xl"
                        >schedule</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Proyecto completo (llave en mano)"
                              : lang === "en"
                                ? "Complete project (turnkey)"
                                : "Projeto completo (chave na m√£o)"
                          }</strong
                        >
                        <p class="text-gray-400 mt-1">
                          {
                            lang === "es"
                              ? "Me encargo del desarrollo end-to-end, desde el dise√±o hasta el despliegue."
                              : lang === "en"
                                ? "I handle end-to-end development, from design to deployment."
                                : "Cuido do desenvolvimento ponta a ponta, desde o design at√© a implanta√ß√£o."
                          }
                        </p>
                      </div>
                    </div>

                    <div
                      class="flex items-start gap-3 p-3 bg-gray-900/30 rounded-lg"
                    >
                      <span
                        class="material-symbols-outlined text-blue-400 text-xl"
                        >update</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Colaboraci√≥n continua"
                              : lang === "en"
                                ? "Continuous collaboration"
                                : "Colabora√ß√£o cont√≠nua"
                          }</strong
                        >
                        <p class="text-gray-400 mt-1">
                          {
                            lang === "es"
                              ? "Integraci√≥n con tu equipo en sprints √°giles (SCRUM/Kanban)."
                              : lang === "en"
                                ? "Integration with your team in agile sprints (SCRUM/Kanban)."
                                : "Integra√ß√£o com sua equipe em sprints √°geis (SCRUM/Kanban)."
                          }
                        </p>
                      </div>
                    </div>

                    <div
                      class="flex items-start gap-3 p-3 bg-gray-900/30 rounded-lg"
                    >
                      <span
                        class="material-symbols-outlined text-blue-400 text-xl"
                        >handshake</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Consultor√≠a puntual"
                              : lang === "en"
                                ? "Point consultation"
                                : "Consultoria pontual"
                          }</strong
                        >
                        <p class="text-gray-400 mt-1">
                          {
                            lang === "es"
                              ? "Sesiones de asesor√≠a espec√≠ficas para resolver desaf√≠os t√©cnicos concretos."
                              : lang === "en"
                                ? "Specific advisory sessions to solve concrete technical challenges."
                                : "Sess√µes de consultoria espec√≠ficas para resolver desafios t√©cnicos concretos."
                          }
                        </p>
                      </div>
                    </div>

                    <div
                      class="flex items-start gap-3 p-3 bg-gray-900/30 rounded-lg"
                    >
                      <span
                        class="material-symbols-outlined text-blue-400 text-xl"
                        >groups</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Staff augmentation"
                              : lang === "en"
                                ? "Staff augmentation"
                                : "Aumento de equipe"
                          }</strong
                        >
                        <p class="text-gray-400 mt-1">
                          {
                            lang === "es"
                              ? "Me integro temporalmente como parte de tu equipo de desarrollo."
                              : lang === "en"
                                ? "I temporarily integrate as part of your development team."
                                : "Integro-me temporariamente como parte de sua equipe de desenvolvimento."
                          }
                        </p>
                      </div>
                    </div>
                  </div>
                  <p class="text-sm text-blue-400 font-semibold">
                    {
                      lang === "es"
                        ? "‚ú® Todas las modalidades incluyen comunicaci√≥n fluida, reportes de progreso y garant√≠a de calidad."
                        : lang === "en"
                          ? "‚ú® All modes include smooth communication, progress reports and quality assurance."
                          : "‚ú® Todas as modalidades incluem comunica√ß√£o fluida, relat√≥rios de progresso e garantia de qualidade."
                    }
                  </p>
                </div>
              </div>
            </div>

            <!-- FAQ 5: Tiempos y disponibilidad -->
            <div
              class="faq-item bg-[#1a1a1a]/80 backdrop-blur-xl rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-primary/50"
            >
              <div class="p-6 flex items-start justify-between gap-4">
                <button
                  class="faq-question flex items-start gap-4 flex-1 text-left group"
                >
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0"
                  >
                    <span class="material-symbols-outlined text-white"
                      >schedule</span
                    >
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-lg mb-2">
                      {
                        lang === "es"
                          ? "¬øCu√°l es el tiempo de respuesta y disponibilidad?"
                          : lang === "en"
                            ? "What is the response time and availability?"
                            : "Qual √© o tempo de resposta e disponibilidade?"
                      }
                    </h3>
                    <p class="text-sm text-gray-400">
                      {
                        lang === "es"
                          ? "Tiempos de inicio y comunicaci√≥n"
                          : lang === "en"
                            ? "Start times and communication"
                            : "Tempos de in√≠cio e comunica√ß√£o"
                      }
                    </p>
                  </div>
                  <span
                    class="material-symbols-outlined text-gray-400 group-hover:text-blue-400 transition-all duration-300 faq-icon ml-4"
                    >expand_more</span
                  >
                </button>
                <button
                  class="faq-video-btn flex-shrink-0 w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg"
                  data-video-url="https://youtube.com/shorts/4d_K-DYSi5M"
                  data-video-title="Tiempos y Disponibilidad"
                  title="Ver video explicativo"
                >
                  <span class="material-symbols-outlined text-white text-lg"
                    >play_arrow</span
                  >
                </button>
              </div>
              <div class="faq-answer hidden px-6 pb-6">
                <div class="pl-16 text-gray-300 space-y-4">
                  <ul class="space-y-3 text-sm">
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-green-500 text-lg"
                        >schedule</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Respuesta inicial:"
                              : lang === "en"
                                ? "Initial response:"
                                : "Resposta inicial:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "24-48 horas h√°biles para todas las solicitudes de contacto."
                              : lang === "en"
                                ? "24-48 business hours for all contact requests."
                                : "24-48 horas √∫teis para todas as solicita√ß√µes de contato."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-blue-500 text-lg"
                        >rocket_launch</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Inicio de proyecto:"
                              : lang === "en"
                                ? "Project start:"
                                : "In√≠cio do projeto:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Generalmente 1-2 semanas despu√©s de la aprobaci√≥n de la propuesta."
                              : lang === "en"
                                ? "Usually 1-2 weeks after proposal approval."
                                : "Geralmente 1-2 semanas ap√≥s a aprova√ß√£o da proposta."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-orange-500 text-lg"
                        >public</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Zona horaria:"
                              : lang === "en"
                                ? "Time zone:"
                                : "Fuso hor√°rio:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Trabajo remoto con disponibilidad en horarios compatibles con Am√©rica, Europa y Asia."
                              : lang === "en"
                                ? "Remote work with availability in hours compatible with America, Europe and Asia."
                                : "Trabalho remoto com disponibilidade em hor√°rios compat√≠veis com Am√©rica, Europa e √Åsia."
                          }</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start gap-3">
                      <span
                        class="material-symbols-outlined text-purple-500 text-lg"
                        >chat</span
                      >
                      <div>
                        <strong class="text-white"
                          >{
                            lang === "es"
                              ? "Comunicaci√≥n:"
                              : lang === "en"
                                ? "Communication:"
                                : "Comunica√ß√£o:"
                          }</strong
                        >
                        <span class="text-gray-400">
                          {
                            lang === "es"
                              ? "Slack, Teams, email y videollamadas peri√≥dicas seg√∫n lo acordado."
                              : lang === "en"
                                ? "Slack, Teams, email and periodic video calls as agreed."
                                : "Slack, Teams, email e videochamadas peri√≥dicas conforme acordado."
                          }</span
                        >
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </main>
  </div>

  <!-- Modal de Video FAQ -->
  <div
    id="faq-video-modal"
    class="fixed inset-0 bg-black/95 backdrop-blur-md z-[100] hidden items-center justify-center p-4"
  >
    <div class="relative w-full max-w-md mx-auto">
      <!-- Close button -->
      <button
        id="close-faq-video-modal"
        class="absolute -top-12 right-0 text-gray-400 hover:text-white transition-colors duration-300"
        aria-label="Cerrar video"
      >
        <span class="material-symbols-outlined text-4xl">close</span>
      </button>

      <!-- Video title -->
      <h3
        id="faq-video-title"
        class="text-white text-xl font-bold mb-4 text-center bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent"
      >
      </h3>

      <!-- Video container (9:16 aspect ratio for shorts) -->
      <div
        class="relative w-full bg-gray-950 rounded-2xl overflow-hidden shadow-2xl border border-gray-800/50"
        style="aspect-ratio: 9/16;"
      >
        <iframe
          id="faq-video-iframe"
          class="w-full h-full"
          src=""
          title="FAQ Video"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <!-- Bot√≥n de WhatsApp -->
  <a
    href="https://me.ha"
    target="_blank"
    rel="noopener noreferrer"
    class="fixed bottom-6 left-6 bg-gradient-to-br from-green-500 to-green-600 text-white p-4 rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transition-all duration-300 z-50 group"
    aria-label="Cont√°ctame por WhatsApp"
    title="WhatsApp"
  >
    <svg
      class="w-8 h-8"
      fill="currentColor"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"
      ></path>
    </svg>
  </a>

  <!-- Bot√≥n flotante para abrir videos -->
  <button
    id="videos-toggle-btn"
    class="fixed bottom-24 left-6 bg-gradient-to-br from-red-600 to-pink-600 text-white p-4 rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transition-all duration-300 z-50"
    aria-label="Ver videos"
  >
    <span class="material-symbols-outlined text-2xl">play_circle</span>
  </button>

  <!-- Contenedor de videos (oculto por defecto) -->
  <div
    id="videos-container"
    class="fixed bottom-24 left-6 z-50 hidden transition-all duration-500"
  >
    <div
      class="bg-gradient-to-br from-gray-900/95 to-black/95 backdrop-blur-xl rounded-2xl p-4 shadow-2xl border border-gray-800"
    >
      <!-- Header -->
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-red-500">videocam</span>
          <h3 class="text-white font-bold text-sm">Shorts</h3>
        </div>
        <button
          id="close-videos-btn"
          class="text-gray-400 hover:text-white transition-colors"
          aria-label="Cerrar videos"
        >
          <span class="material-symbols-outlined text-lg">close</span>
        </button>
      </div>

      <!-- Videos grid -->
      <div class="flex gap-3">
        <!-- Video 1 -->
        <div class="video-item group relative" data-video-id="1">
          <div
            class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-primary transition-all duration-300 cursor-pointer"
          >
            <!-- Expand button -->
            <button
              class="expand-btn absolute top-2 right-2 z-10 bg-black/60 hover:bg-black/80 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all duration-200"
              data-video="1"
            >
              <span class="material-symbols-outlined text-xs expand-icon"
                >open_in_full</span
              >
            </button>

            <!-- Unmute indicator -->
            <button
              class="unmute-btn absolute bottom-2 right-2 z-10 bg-black/60 hover:bg-primary text-white rounded-full p-1.5 transition-all duration-200"
              data-video="1"
              title="Toca para activar sonido"
            >
              <span class="material-symbols-outlined text-sm volume-icon"
                >volume_off</span
              >
            </button>

            <iframe
              class="video-frame transition-all duration-500"
              width="120"
              height="213"
              src="https://www.youtube.com/embed/4d_K-DYSi5M?autoplay=0&mute=1&loop=1&playlist=4d_K-DYSi5M&controls=1&modestbranding=1&rel=0&enablejsapi=1"
              title="YouTube Short 1"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
        </div>

        <!-- Video 2 -->
        <div class="video-item group relative" data-video-id="2">
          <div
            class="relative rounded-xl overflow-hidden border-2 border-gray-700 hover:border-primary transition-all duration-300 cursor-pointer"
          >
            <!-- Expand button -->
            <button
              class="expand-btn absolute top-2 right-2 z-10 bg-black/60 hover:bg-black/80 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all duration-200"
              data-video="2"
            >
              <span class="material-symbols-outlined text-xs expand-icon"
                >open_in_full</span
              >
            </button>

            <!-- Unmute indicator -->
            <button
              class="unmute-btn absolute bottom-2 right-2 z-10 bg-black/60 hover:bg-primary text-white rounded-full p-1.5 transition-all duration-200"
              data-video="2"
              title="Toca para activar sonido"
            >
              <span class="material-symbols-outlined text-sm volume-icon"
                >volume_off</span
              >
            </button>

            <iframe
              class="video-frame transition-all duration-500"
              width="120"
              height="213"
              src="https://www.youtube.com/embed/4d_K-DYSi5M?autoplay=0&mute=1&loop=1&playlist=4d_K-DYSi5M&controls=1&modestbranding=1&rel=0&enablejsapi=1"
              title="YouTube Short 2"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>

      <!-- Tip -->
      <div class="mt-3 flex items-center gap-2 text-xs text-gray-400">
        <span class="material-symbols-outlined text-sm">info</span>
        <span>Toca el video para activar sonido</span>
      </div>
    </div>
  </div>

  <!-- Bot√≥n de Opciones de Accesibilidad -->
  <button
    id="accessibility-btn"
    class="fixed bottom-44 right-6 bg-gradient-to-br from-blue-600 to-cyan-600 p-4 rounded-full shadow-lg hover:scale-110 transition-all duration-300 z-50 group"
    aria-label="Opciones de Accesibilidad"
    title="Opciones de Accesibilidad"
  >
    <span class="material-symbols-outlined text-white text-3xl"
      >accessibility</span
    >
  </button>

  <!-- Bot√≥n de Metas 2026-2027 -->
  <button
    id="goals-btn"
    class="fixed bottom-24 right-6 bg-gradient-to-br from-purple-600 to-pink-600 p-4 rounded-full shadow-lg hover:scale-110 transition-all duration-300 z-50 group"
    aria-label="Ver metas 2026-2027"
    title="Metas 2026-2027"
  >
    <span class="material-symbols-outlined text-white text-3xl">flag</span>
  </button>

  <button
    id="chatbot-btn"
    class="fixed bottom-6 right-6 bg-primary p-4 rounded-full shadow-lg hover:opacity-90 transition-opacity z-50"
    aria-label="Open chatbot"
  >
    <span class="material-symbols-outlined text-white text-3xl">chat</span>
  </button>

  <!-- Modal de Opciones de Accesibilidad -->
  <div
    id="accessibility-modal"
    class="fixed inset-0 bg-black/95 backdrop-blur-md z-[100] hidden items-center justify-center p-4"
  >
    <div class="relative w-full max-w-2xl mx-auto">
      <!-- Close button -->
      <button
        id="close-accessibility-modal"
        class="absolute -top-12 right-0 text-gray-400 hover:text-white transition-colors duration-300 z-10"
        aria-label="Cerrar opciones de accesibilidad"
      >
        <span class="material-symbols-outlined text-4xl">close</span>
      </button>

      <!-- Content -->
      <div
        class="bg-gradient-to-br from-gray-900 via-gray-900 to-blue-900/20 backdrop-blur-xl rounded-3xl border-2 border-blue-500/30 shadow-2xl overflow-hidden"
      >
        <!-- Header -->
        <div
          class="relative bg-gradient-to-r from-blue-600 via-cyan-600 to-blue-600 p-6 overflow-hidden"
        >
          <div class="absolute inset-0 bg-black/20"></div>
          <div class="relative z-10">
            <div class="flex items-center justify-center gap-4">
              <div
                class="w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center"
              >
                <span class="material-symbols-outlined text-white text-4xl"
                  >accessibility</span
                >
              </div>
              <div>
                <h2 class="text-3xl font-black text-white">
                  Opciones de Accesibilidad
                </h2>
                <p class="text-white/90 text-sm mt-1">
                  Personaliza tu experiencia de navegaci√≥n
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Options -->
        <div class="p-6 space-y-4">
          <!-- Font Size -->
          <div
            class="bg-gray-900/50 rounded-xl p-5 border border-gray-800 hover:border-blue-500/50 transition-all"
          >
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-blue-400 text-2xl"
                  >text_fields</span
                >
                <div>
                  <h3 class="text-white font-semibold">Tama√±o de Fuente</h3>
                  <p class="text-gray-400 text-xs">
                    Ajusta el tama√±o del texto
                  </p>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <button
                  class="font-size-btn px-3 py-1 rounded bg-gray-800 hover:bg-blue-600 text-white text-sm transition-all"
                  data-size="small">A</button
                >
                <button
                  class="font-size-btn px-3 py-1 rounded bg-blue-600 text-white text-lg transition-all"
                  data-size="normal">A</button
                >
                <button
                  class="font-size-btn px-3 py-1 rounded bg-gray-800 hover:bg-blue-600 text-white text-xl transition-all"
                  data-size="large">A</button
                >
              </div>
            </div>
          </div>

          <!-- High Contrast -->
          <div
            class="bg-gray-900/50 rounded-xl p-5 border border-gray-800 hover:border-blue-500/50 transition-all"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-blue-400 text-2xl"
                  >contrast</span
                >
                <div>
                  <h3 class="text-white font-semibold">Alto Contraste</h3>
                  <p class="text-gray-400 text-xs">
                    Mejora la visibilidad del contenido
                  </p>
                </div>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input
                  type="checkbox"
                  id="high-contrast-toggle"
                  class="sr-only peer"
                />
                <div
                  class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
                >
                </div>
              </label>
            </div>
          </div>

          <!-- Reduce Motion -->
          <div
            class="bg-gray-900/50 rounded-xl p-5 border border-gray-800 hover:border-blue-500/50 transition-all"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-blue-400 text-2xl"
                  >motion_photos_off</span
                >
                <div>
                  <h3 class="text-white font-semibold">Reducir Movimiento</h3>
                  <p class="text-gray-400 text-xs">
                    Desactiva animaciones y transiciones
                  </p>
                </div>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input
                  type="checkbox"
                  id="reduce-motion-toggle"
                  class="sr-only peer"
                />
                <div
                  class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
                >
                </div>
              </label>
            </div>
          </div>

          <!-- Focus Indicators -->
          <div
            class="bg-gray-900/50 rounded-xl p-5 border border-gray-800 hover:border-blue-500/50 transition-all"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-blue-400 text-2xl"
                  >visibility</span
                >
                <div>
                  <h3 class="text-white font-semibold">
                    Indicadores de Enfoque
                  </h3>
                  <p class="text-gray-400 text-xs">
                    Resalta elementos interactivos
                  </p>
                </div>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input
                  type="checkbox"
                  id="focus-indicators-toggle"
                  class="sr-only peer"
                  checked
                />
                <div
                  class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
                >
                </div>
              </label>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div
          class="p-6 bg-gradient-to-r from-gray-900/90 to-blue-900/30 border-t-2 border-gray-800"
        >
          <div class="flex items-center gap-3">
            <span class="material-symbols-outlined text-blue-400 text-xl"
              >info</span
            >
            <p class="text-gray-300 text-sm">
              Los cambios se guardan autom√°ticamente y persisten entre sesiones.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Metas 2026-2027 -->
  <div
    id="goals-modal"
    class="fixed inset-0 bg-black/95 backdrop-blur-md z-[100] hidden items-center justify-center p-4 overflow-y-auto"
  >
    <div class="relative w-full max-w-7xl mx-auto my-8">
      <!-- Close button -->
      <button
        id="close-goals-modal"
        class="absolute -top-12 right-0 text-gray-400 hover:text-white transition-colors duration-300 z-10"
        aria-label="Cerrar metas"
      >
        <span class="material-symbols-outlined text-4xl">close</span>
      </button>

      <!-- Content -->
      <div
        class="bg-gradient-to-br from-gray-900 via-gray-900 to-purple-900/20 backdrop-blur-xl rounded-3xl border-2 border-purple-500/30 shadow-2xl overflow-hidden"
      >
        <!-- Header with Gradient -->
        <div
          class="relative bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 p-8 overflow-hidden"
        >
          <div class="absolute inset-0 bg-black/20"></div>
          <div class="relative z-10">
            <div class="flex items-center justify-center gap-4 mb-3">
              <div
                class="w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center"
              >
                <span class="text-5xl">üéØ</span>
              </div>
              <div>
                <h2 class="text-4xl font-black text-white">
                  Plan Estrat√©gico 2026-2027
                </h2>
                <p class="text-white/90 text-lg mt-1">
                  Matriz de Correlaci√≥n y Seguimiento de Objetivos
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Dashboard Summary Cards -->
        <div
          class="p-8 bg-gradient-to-r from-purple-950/40 to-pink-950/40 border-b-2 border-purple-500/20"
        >
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Card 1: Progreso Ponderado -->
            <div
              class="group relative bg-gradient-to-br from-purple-900/50 to-purple-800/30 rounded-2xl p-6 border-2 border-purple-500/30 hover:border-purple-400/50 transition-all duration-300 hover:scale-105"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-purple-600/10 to-pink-600/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"
              >
              </div>
              <div class="relative z-10">
                <div class="flex items-center gap-4 mb-3">
                  <div
                    class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-3xl"
                      >analytics</span
                    >
                  </div>
                  <div>
                    <p
                      class="text-purple-300 text-xs uppercase font-bold tracking-wider"
                    >
                      Progreso Total
                    </p>
                    <p
                      class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-pink-300"
                      id="weighted-progress"
                    >
                      0.0%
                    </p>
                  </div>
                </div>
                <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                  <div
                    class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500"
                    id="weighted-progress-bar"
                    style="width: 0%"
                  >
                  </div>
                </div>
                <p class="text-gray-400 text-xs mt-3">
                  Œ£ (peso √ó progreso) / 100
                </p>
              </div>
            </div>

            <!-- Card 2: Total Goals -->
            <div
              class="group relative bg-gradient-to-br from-blue-900/50 to-blue-800/30 rounded-2xl p-6 border-2 border-blue-500/30 hover:border-blue-400/50 transition-all duration-300 hover:scale-105"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-blue-600/10 to-cyan-600/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"
              >
              </div>
              <div class="relative z-10">
                <div class="flex items-center gap-4 mb-3">
                  <div
                    class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-3xl"
                      >target</span
                    >
                  </div>
                  <div>
                    <p
                      class="text-blue-300 text-xs uppercase font-bold tracking-wider"
                    >
                      Total Metas
                    </p>
                    <p
                      class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-cyan-300"
                      id="total-goals"
                    >
                      10
                    </p>
                  </div>
                </div>
                <p class="text-gray-400 text-xs mt-3">
                  6 ejes estrat√©gicos principales
                </p>
              </div>
            </div>

            <!-- Card 3: Last Updated -->
            <div
              class="group relative bg-gradient-to-br from-green-900/50 to-green-800/30 rounded-2xl p-6 border-2 border-green-500/30 hover:border-green-400/50 transition-all duration-300 hover:scale-105"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-green-600/10 to-emerald-600/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"
              >
              </div>
              <div class="relative z-10">
                <div class="flex items-center gap-4 mb-3">
                  <div
                    class="w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center shadow-lg"
                  >
                    <span class="material-symbols-outlined text-white text-3xl"
                      >schedule</span
                    >
                  </div>
                  <div>
                    <p
                      class="text-green-300 text-xs uppercase font-bold tracking-wider"
                    >
                      √öltima Actualizaci√≥n
                    </p>
                    <p class="text-2xl font-black text-white" id="last-updated">
                      -
                    </p>
                  </div>
                </div>
                <p class="text-gray-400 text-xs mt-3">Per√≠odo: 2026-2027</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="bg-gray-900/80 border-b-2 border-gray-800 px-8">
          <div class="flex gap-2 overflow-x-auto">
            <button
              class="goals-tab-btn flex items-center gap-2 px-6 py-4 text-white font-semibold border-b-4 border-purple-500 bg-purple-900/30 transition-all"
              data-tab="overview"
            >
              <span class="material-symbols-outlined">dashboard</span>
              <span>Vista General</span>
            </button>
            <button
              class="goals-tab-btn flex items-center gap-2 px-6 py-4 text-gray-400 font-semibold border-b-4 border-transparent hover:text-white hover:bg-gray-800/50 transition-all"
              data-tab="axes"
            >
              <span class="material-symbols-outlined">hub</span>
              <span>Ejes Estrat√©gicos</span>
            </button>
            <button
              class="goals-tab-btn flex items-center gap-2 px-6 py-4 text-gray-400 font-semibold border-b-4 border-transparent hover:text-white hover:bg-gray-800/50 transition-all"
              data-tab="goals"
            >
              <span class="material-symbols-outlined">list</span>
              <span>Metas Detalladas</span>
            </button>
            <button
              class="goals-tab-btn flex items-center gap-2 px-6 py-4 text-gray-400 font-semibold border-b-4 border-transparent hover:text-white hover:bg-gray-800/50 transition-all"
              data-tab="chart"
            >
              <span class="material-symbols-outlined">radar</span>
              <span>Gr√°fica Radar</span>
            </button>
          </div>
        </div>

        <!-- Tab Contents -->
        <div
          class="p-8 min-h-[500px] max-h-[600px] overflow-y-auto custom-scrollbar"
        >
          <!-- Tab 1: Overview -->
          <div class="goals-tab-content" data-tab="overview">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Left: Strategic Axes -->
              <div>
                <div class="flex items-center gap-3 mb-6">
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >hub</span
                    >
                  </div>
                  <h3 class="text-white font-bold text-2xl">
                    Ejes Estrat√©gicos
                  </h3>
                </div>
                <div id="strategic-axes" class="grid grid-cols-1 gap-3">
                  <!-- Axes will be loaded dynamically -->
                </div>
              </div>

              <!-- Right: Chart Preview -->
              <div>
                <div class="flex items-center gap-3 mb-6">
                  <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-pink-600 to-purple-600 flex items-center justify-center"
                  >
                    <span class="material-symbols-outlined text-white text-2xl"
                      >radar</span
                    >
                  </div>
                  <h3 class="text-white font-bold text-2xl">
                    Progreso General
                  </h3>
                </div>
                <div
                  class="bg-gray-900/50 rounded-2xl p-6 border-2 border-gray-800"
                >
                  <canvas
                    id="goals-chart-overview"
                    class="w-full"
                    style="max-height: 350px;"></canvas>
                </div>
              </div>
            </div>
          </div>

          <!-- Tab 2: Strategic Axes -->
          <div class="goals-tab-content hidden" data-tab="axes">
            <div class="mb-6">
              <h3 class="text-white font-bold text-3xl mb-2">
                Ejes Estrat√©gicos 2026-2027
              </h3>
              <p class="text-gray-400">
                Los 6 pilares fundamentales de la estrategia profesional
              </p>
            </div>
            <div
              id="strategic-axes-detail"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
            >
              <!-- Detailed axes will be loaded here -->
            </div>
          </div>

          <!-- Tab 3: Goals List -->
          <div class="goals-tab-content hidden" data-tab="goals">
            <div class="mb-6">
              <h3 class="text-white font-bold text-3xl mb-2">
                Metas Estrat√©gicas
              </h3>
              <p class="text-gray-400">
                10 objetivos principales con correlaci√≥n a ejes estrat√©gicos
              </p>
            </div>
            <div id="goals-container" class="space-y-4">
              <!-- Goals will be loaded dynamically with full strategic data -->
            </div>
          </div>

          <!-- Tab 4: Radar Chart -->
          <div class="goals-tab-content hidden" data-tab="chart">
            <div class="mb-6">
              <h3 class="text-white font-bold text-3xl mb-2">
                Visualizaci√≥n Radar
              </h3>
              <p class="text-gray-400">
                Gr√°fica interactiva del progreso de todas las metas
              </p>
            </div>
            <div
              class="bg-gray-900/50 rounded-2xl p-8 border-2 border-gray-800"
            >
              <canvas id="goals-chart" class="w-full" style="max-height: 500px;"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Footer Info -->
        <div
          class="p-6 bg-gradient-to-r from-gray-900/90 to-purple-900/30 border-t-2 border-gray-800"
        >
          <div class="flex items-center justify-between flex-wrap gap-4">
            <div class="flex items-center gap-3">
              <span class="material-symbols-outlined text-purple-400 text-2xl"
                >info</span
              >
              <p class="text-gray-300 text-sm">
                Actualiza los valores en tiempo real. Los cambios se reflejan
                autom√°ticamente en todas las vistas.
              </p>
            </div>
            <div class="text-gray-500 text-xs">
              F√≥rmula: <code
                class="bg-gray-800 px-2 py-1 rounded text-purple-300"
                >Œ£ (peso √ó progreso) / 100</code
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <Chatbot />
</Layout>

<link rel="stylesheet" href="/styles_global.css" />

<script>
  import { getApiUrl } from '../config/api.js';

  // About content is now statically rendered in the HTML, no backend needed

  // Crossfade Animation for Images
  function initCrossfade() {
    const containers = document.querySelectorAll(".crossfade-container");

    containers.forEach((container) => {
      const images = container.querySelectorAll(".crossfade-image");
      let currentIndex = 0;

      setInterval(() => {
        // Remove active from current image
        images[currentIndex].classList.remove("active");

        // Move to next image
        currentIndex = (currentIndex + 1) % images.length;

        // Add active to next image
        images[currentIndex].classList.add("active");
      }, 4000); // Change every 4 seconds
    });
  }

  // Initialize crossfade after DOM loads
  document.addEventListener("DOMContentLoaded", initCrossfade);

  // Cursor Follower Effect
  const cursorFollower = document.getElementById("cursor-follower");
  const cursorText = document.getElementById("cursor-text");
  let mouseX = 0;
  let mouseY = 0;
  let followerX = 0;
  let followerY = 0;
  const delay = 0.1;

  // Track mouse position
  document.addEventListener("mousemove", (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  // Smooth follow animation
  function animate() {
    const distX = mouseX - followerX;
    const distY = mouseY - followerY;

    followerX += distX * delay;
    followerY += distY * delay;

    if (cursorFollower) {
      cursorFollower.style.left = followerX + "px";
      cursorFollower.style.top = followerY + "px";
    }

    requestAnimationFrame(animate);
  }
  animate();

  // Handle hover on interactive elements
  const hoverTargets = document.querySelectorAll(".cursor-hover-target");

  hoverTargets.forEach((target) => {
    target.addEventListener("mouseenter", (e) => {
      const text = (e.currentTarget as HTMLElement).dataset.cursorText;
      if (text && cursorText && cursorFollower) {
        cursorText.textContent = text;
        cursorFollower.classList.add("active");
      }
    });

    target.addEventListener("mouseleave", () => {
      if (cursorFollower) {
        cursorFollower.classList.remove("active");
      }
      if (cursorText) {
        cursorText.textContent = "";
      }
    });
  });

  function initContactForm() {
    const contactForm = document.getElementById("contact-form");
    const statusMessage = document.getElementById("contact-status-message");

    if (!contactForm || !statusMessage) return;

    contactForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const submitBtn = contactForm.querySelector(
        'button[type="submit"]'
      ) as HTMLButtonElement;
      const originalBtnContent = submitBtn.innerHTML;

      submitBtn.disabled = true;
      submitBtn.innerHTML = `
        <span class="flex items-center gap-2">
          <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span>Enviando...</span>
        </span>
      `;

      const formData = new FormData(e.target as HTMLFormElement);
      const data = {
        name: formData.get("name"),
        email: formData.get("email"),
        message: formData.get("message"),
      };

      try {
        const response = await fetch(getApiUrl("/api/send-email"), {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        });

        if (response.ok) {
          statusMessage.className =
            "mt-6 p-4 rounded-xl text-center bg-green-900/30 text-green-400";
          statusMessage.innerHTML = `
            <div class="flex items-center justify-center gap-2">
              <span class="material-symbols-outlined">check_circle</span>
              <span>¬°Mensaje enviado exitosamente!</span>
            </div>
          `;
          statusMessage.classList.remove("hidden");
          (e.target as HTMLFormElement).reset();

          setTimeout(() => {
            statusMessage.classList.add("hidden");
          }, 5000);
        } else {
          throw new Error("Failed to send message");
        }
      } catch (error) {
        statusMessage.className =
          "mt-6 p-4 rounded-xl text-center bg-red-900/30 text-red-400";
        statusMessage.innerHTML = `
          <div class="flex items-center justify-center gap-2">
            <span class="material-symbols-outlined">error</span>
            <span>Error al enviar el mensaje. Por favor intenta de nuevo.</span>
          </div>
        `;
        statusMessage.classList.remove("hidden");

        setTimeout(() => {
          statusMessage.classList.add("hidden");
        }, 5000);
      } finally {
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalBtnContent;
      }
    });
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initContactForm);
  } else {
    initContactForm();
  }

  // Videos Shorts Manager
  document.addEventListener("DOMContentLoaded", () => {
    const videosToggleBtn = document.getElementById("videos-toggle-btn");
    const videosContainer = document.getElementById("videos-container");
    const closeVideosBtn = document.getElementById("close-videos-btn");
    const expandBtns = document.querySelectorAll(".expand-btn");
    const unmuteBtns = document.querySelectorAll(".unmute-btn");

    // Estado de videos
    const videoStates = new Map();
    videoStates.set("1", { expanded: false, muted: true });
    videoStates.set("2", { expanded: false, muted: true });

    // Tama√±os
    const sizes = {
      small: { width: 120, height: 213 },
      large: { width: 240, height: 426 },
    };

    // Abrir/Cerrar panel de videos
    videosToggleBtn?.addEventListener("click", () => {
      if (videosContainer?.classList.contains("hidden")) {
        videosContainer.classList.remove("hidden");
        videosToggleBtn.style.transform = "scale(0.9)";
        videosToggleBtn.style.opacity = "0.7";
      } else {
        videosContainer?.classList.add("hidden");
        videosToggleBtn.style.transform = "scale(1)";
        videosToggleBtn.style.opacity = "1";
      }
    });

    closeVideosBtn?.addEventListener("click", () => {
      videosContainer?.classList.add("hidden");
      videosToggleBtn.style.transform = "scale(1)";
      videosToggleBtn.style.opacity = "1";
    });

    // Expandir/Contraer videos
    expandBtns.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const videoId = btn.getAttribute("data-video");
        if (!videoId) return;

        const state = videoStates.get(videoId);
        const videoItem = document.querySelector(
          `[data-video-id="${videoId}"]`
        );
        const iframe = videoItem?.querySelector(
          ".video-frame"
        ) as HTMLIFrameElement;
        const icon = btn.querySelector(".expand-icon");

        if (state && iframe && icon) {
          state.expanded = !state.expanded;

          if (state.expanded) {
            iframe.width = sizes.large.width.toString();
            iframe.height = sizes.large.height.toString();
            icon.textContent = "close_fullscreen";
          } else {
            iframe.width = sizes.small.width.toString();
            iframe.height = sizes.small.height.toString();
            icon.textContent = "open_in_full";
          }
        }
      });
    });

    // Activar/Desactivar sonido al tocar el video o el bot√≥n
    unmuteBtns.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const videoId = btn.getAttribute("data-video");
        if (!videoId) return;

        const state = videoStates.get(videoId);
        const videoItem = document.querySelector(
          `[data-video-id="${videoId}"]`
        );
        const iframe = videoItem?.querySelector(
          ".video-frame"
        ) as HTMLIFrameElement;
        const volumeIcon = btn.querySelector(".volume-icon");

        if (state && iframe && volumeIcon) {
          state.muted = !state.muted;

          // Cambiar el par√°metro mute en la URL del iframe
          const currentSrc = iframe.src;
          if (state.muted) {
            iframe.src = currentSrc.replace("mute=0", "mute=1");
            volumeIcon.textContent = "volume_off";
            btn.classList.remove("bg-primary");
            btn.classList.add("bg-black/60");
          } else {
            iframe.src = currentSrc.replace("mute=1", "mute=0");
            volumeIcon.textContent = "volume_up";
            btn.classList.remove("bg-black/60");
            btn.classList.add("bg-primary");
          }
        }
      });
    });

    // Tambi√©n permitir activar sonido al hacer clic en el iframe
    document.querySelectorAll(".video-frame").forEach((iframe, index) => {
      iframe.addEventListener("click", () => {
        const videoId = (index + 1).toString();
        const unmuteBtn = document.querySelector(
          `.unmute-btn[data-video="${videoId}"]`
        ) as HTMLButtonElement;
        if (unmuteBtn) {
          unmuteBtn.click();
        }
      });
    });
  });

  // FAQ Accordion functionality
  document.addEventListener("DOMContentLoaded", () => {
    const faqQuestions = document.querySelectorAll(".faq-question");

    faqQuestions.forEach((question) => {
      question.addEventListener("click", () => {
        const faqItem = question.closest(".faq-item");
        const answer = faqItem?.querySelector(".faq-answer");
        const icon = question.querySelector(".faq-icon");

        if (!answer || !icon) return;

        // Cerrar otros FAQs abiertos (opcional - quita esto si quieres m√∫ltiples abiertos)
        const allFaqItems = document.querySelectorAll(".faq-item");
        allFaqItems.forEach((item) => {
          if (item !== faqItem) {
            const otherAnswer = item.querySelector(".faq-answer");
            const otherIcon = item.querySelector(".faq-icon");
            if (otherAnswer && otherIcon) {
              otherAnswer.classList.add("hidden");
              otherIcon.style.transform = "rotate(0deg)";
            }
          }
        });

        // Toggle answer visibility
        const isHidden = answer.classList.contains("hidden");

        if (isHidden) {
          answer.classList.remove("hidden");
          icon.style.transform = "rotate(180deg)";
        } else {
          answer.classList.add("hidden");
          icon.style.transform = "rotate(0deg)";
        }
      });
    });
  });

  // FAQ Video Modal functionality
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("faq-video-modal");
    const iframe = document.getElementById(
      "faq-video-iframe"
    ) as HTMLIFrameElement;
    const title = document.getElementById("faq-video-title");
    const closeBtn = document.getElementById("close-faq-video-modal");
    const videoButtons = document.querySelectorAll(".faq-video-btn");

    // Function to extract YouTube video ID from URL
    function getYouTubeVideoId(url: string): string {
      const patterns = [
        /youtube\.com\/shorts\/([^?]+)/,
        /youtube\.com\/watch\?v=([^&]+)/,
        /youtu\.be\/([^?]+)/,
        /youtube\.com\/embed\/([^?]+)/,
      ];

      for (const pattern of patterns) {
        const match = url.match(pattern);
        if (match) return match[1];
      }

      return "";
    }

    // Open modal when clicking FAQ video button
    videoButtons.forEach((button) => {
      button.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevent FAQ accordion from triggering

        const videoUrl = button.getAttribute("data-video-url");
        const videoTitle = button.getAttribute("data-video-title");

        if (videoUrl && iframe && title && modal) {
          const videoId = getYouTubeVideoId(videoUrl);

          if (videoId) {
            // Set iframe src with autoplay
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&controls=1&modestbranding=1&rel=0`;

            // Set title
            title.textContent = videoTitle || "Video explicativo";

            // Show modal
            modal.classList.remove("hidden");
            modal.classList.add("flex");
          }
        }
      });
    });

    // Close modal function
    function closeModal() {
      if (modal && iframe) {
        modal.classList.add("hidden");
        modal.classList.remove("flex");
        // Stop video playback
        iframe.src = "";
      }
    }

    // Close when clicking close button
    closeBtn?.addEventListener("click", closeModal);

    // Close when clicking outside the video container
    modal?.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Close with Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal && !modal.classList.contains("hidden")) {
        closeModal();
      }
    });
  });

  // Goals Modal and Chart functionality - Strategic Matrix
  document.addEventListener("DOMContentLoaded", async () => {
    const goalsBtn = document.getElementById("goals-btn");
    const goalsModal = document.getElementById("goals-modal");
    const closeGoalsBtn = document.getElementById("close-goals-modal");
    const chartCanvas = document.getElementById(
      "goals-chart"
    ) as HTMLCanvasElement;
    const goalsContainer = document.getElementById("goals-container");
    const axesContainer = document.getElementById("strategic-axes");
    const weightedProgressEl = document.getElementById("weighted-progress");
    const lastUpdatedEl = document.getElementById("last-updated");

    let goalsChart: any = null;
    let strategicData: any = null;

    // Goal emoji mapping
    const goalEmojis: { [key: string]: string } = {
      G1: "üì¢",
      G2: "üî¨",
      G3: "üåü",
      G4: "üíª",
      G5: "ü§ñ",
      G6: "üè¢",
      G7: "üéì",
      G8: "üí∞",
      G9: "üì±",
      G10: "üöÄ",
    };

    // Load Chart.js dynamically
    const loadChartJS = async () => {
      if (typeof (window as any).Chart === "undefined") {
        const script = document.createElement("script");
        script.src =
          "https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js";
        document.head.appendChild(script);

        return new Promise((resolve) => {
          script.onload = resolve;
        });
      }
    };

    // Load goals data from JSON
    const loadGoalsData = async () => {
      try {
        let response = await fetch("/goals-2026.json");

        if (!response.ok) {
          response = await fetch(
            "https://raw.githubusercontent.com/darwinyusef/darwinyusef/refs/heads/master/information/goals-2026.json"
          );
        }

        const data = await response.json();
        return data;
      } catch (error) {
        console.error("Error loading goals data:", error);
        return null;
      }
    };

    // Calculate weighted progress
    const calculateWeightedProgress = (goals: any[]) => {
      let total = 0;
      goals.forEach((goal: any) => {
        total += (goal.weight * goal.progress) / 100;
      });
      return total.toFixed(1);
    };

    // Render strategic axes (overview)
    const renderAxes = (axes: any[]) => {
      if (!axesContainer) return;

      axesContainer.innerHTML = axes
        .map(
          (axis: any) => `
        <div class="bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-4 border-2 border-gray-700 hover:border-purple-500/50 transition-all duration-300 hover:scale-105 group">
          <div class="flex items-center gap-3 mb-2">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: ${axis.color}">
              <span class="text-white font-bold text-lg">${axis.id}</span>
            </div>
            <div class="flex-1">
              <p class="text-white font-bold text-sm group-hover:text-purple-300 transition-colors">${axis.name}</p>
            </div>
          </div>
          <p class="text-gray-400 text-xs leading-relaxed">${axis.description}</p>
        </div>
      `
        )
        .join("");
    };

    // Render detailed axes
    const renderAxesDetail = (data: any) => {
      const axesDetailContainer = document.getElementById(
        "strategic-axes-detail"
      );
      if (!axesDetailContainer) return;

      axesDetailContainer.innerHTML = data.axes
        .map((axis: any) => {
          // Count goals correlated with this axis
          const correlatedGoals = data.goals.filter(
            (g: any) => g.correlation[axis.id] > 0
          );
          const avgCorrelation =
            correlatedGoals.reduce(
              (sum: number, g: any) => sum + g.correlation[axis.id],
              0
            ) / correlatedGoals.length;

          return `
          <div class="bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 border-2 hover:border-purple-500/50 transition-all duration-300 group" style="border-color: ${axis.color}">
            <div class="flex items-center gap-4 mb-4">
              <div class="w-16 h-16 rounded-xl flex items-center justify-center shadow-lg" style="background: ${axis.color}">
                <span class="text-white font-black text-2xl">${axis.id}</span>
              </div>
              <div class="flex-1">
                <h4 class="text-white font-bold text-xl mb-1 group-hover:text-purple-300 transition-colors">${axis.name}</h4>
                <p class="text-gray-400 text-sm">${axis.description}</p>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-3 mt-4 pt-4 border-t border-gray-700">
              <div class="bg-gray-800/50 rounded-lg p-3">
                <p class="text-gray-400 text-xs mb-1">Metas Relacionadas</p>
                <p class="text-white font-bold text-2xl">${correlatedGoals.length}</p>
              </div>
              <div class="bg-gray-800/50 rounded-lg p-3">
                <p class="text-gray-400 text-xs mb-1">Correlaci√≥n Promedio</p>
                <p class="text-white font-bold text-2xl">${avgCorrelation.toFixed(1)}</p>
              </div>
            </div>

            <div class="mt-4">
              <p class="text-gray-500 text-xs mb-2">Top Metas Correlacionadas:</p>
              <div class="space-y-1">
                ${correlatedGoals
                  .sort(
                    (a: any, b: any) =>
                      b.correlation[axis.id] - a.correlation[axis.id]
                  )
                  .slice(0, 3)
                  .map(
                    (g: any) => `
                    <div class="flex items-center gap-2 text-xs">
                      <span class="text-gray-400">${g.id}</span>
                      <span class="flex-1 text-gray-300">${g.title}</span>
                      <span class="text-purple-400 font-bold">${"‚óè".repeat(g.correlation[axis.id])}</span>
                    </div>
                  `
                  )
                  .join("")}
              </div>
            </div>
          </div>
        `;
        })
        .join("");
    };

    // Render goals with strategic data
    const renderGoals = (data: any) => {
      if (!goalsContainer) return;

      goalsContainer.innerHTML = data.goals
        .map((goal: any, index: number) => {
          const emoji = goalEmojis[goal.id] || "üéØ";
          const correlationBadges = Object.entries(goal.correlation)
            .map(([axisId, value]: [string, any]) => {
              const axis = data.axes.find((a: any) => a.id === axisId);
              if (!axis || value === 0) return "";

              const intensity =
                value === 3 ? "font-bold" : value === 2 ? "font-semibold" : "";
              return `<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs ${intensity}" style="background: ${axis.color}; color: white;">
              ${axisId} <span class="text-[10px]">‚óè${"‚óè".repeat(value - 1)}</span>
            </span>`;
            })
            .filter(Boolean)
            .join("");

          const subtasksHTML =
            goal.subtasks.length > 0
              ? `
          <div class="mt-3 pt-3 border-t border-gray-800">
            <button class="flex items-center gap-2 text-gray-400 hover:text-white text-sm mb-2 subtasks-toggle" data-goal="${goal.id}">
              <span class="material-symbols-outlined text-sm toggle-icon">expand_more</span>
              <span>Subtareas (${goal.subtasks.length})</span>
            </button>
            <ul class="hidden space-y-1 ml-6 text-sm text-gray-400 subtasks-list" data-goal="${goal.id}">
              ${goal.subtasks.map((task: string) => `<li class="flex items-start gap-2"><span class="text-blue-400">‚Ä¢</span><span>${task}</span></li>`).join("")}
            </ul>
          </div>
        `
              : "";

          return `
          <div class="goal-item bg-gray-900/50 rounded-xl p-4 border border-gray-800 hover:border-gray-700 transition-all">
            <div class="flex items-start justify-between gap-4 mb-3">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <span class="text-2xl">${emoji}</span>
                  <h3 class="text-white font-semibold flex-1">${goal.title}</h3>
                  <span class="px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs font-bold">${goal.weight}%</span>
                </div>
                <p class="text-gray-400 text-sm mb-2">${goal.description}</p>
                <div class="flex flex-wrap gap-1 mb-2">
                  ${correlationBadges}
                </div>
                ${goal.notes ? `<p class="text-gray-500 text-xs italic mt-2">üí° ${goal.notes}</p>` : ""}
              </div>
              <div class="flex flex-col items-end gap-2 flex-shrink-0">
                <input
                  type="number"
                  class="goal-progress w-16 bg-gray-800 text-white rounded px-2 py-1 text-sm text-center border border-gray-700 focus:border-primary focus:outline-none"
                  min="0"
                  max="100"
                  value="${goal.progress}"
                  data-goal="${index}"
                  data-goal-id="${goal.id}"
                >
                <span class="text-xs text-gray-500">%</span>
              </div>
            </div>
            <div class="w-full bg-gray-800 rounded-full h-2.5">
              <div class="bg-gradient-to-r from-purple-600 to-pink-600 h-2.5 rounded-full transition-all duration-500 goal-progress-bar" style="width: ${goal.progress}%"></div>
            </div>
            ${subtasksHTML}
          </div>
        `;
        })
        .join("");

      // Add toggle functionality for subtasks
      document.querySelectorAll(".subtasks-toggle").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          const goalId = (e.currentTarget as HTMLElement).getAttribute(
            "data-goal"
          );
          const list = document.querySelector(
            `.subtasks-list[data-goal="${goalId}"]`
          );
          const icon = (e.currentTarget as HTMLElement).querySelector(
            ".toggle-icon"
          );

          if (list && icon) {
            list.classList.toggle("hidden");
            icon.textContent = list.classList.contains("hidden")
              ? "expand_more"
              : "expand_less";
          }
        });
      });
    };

    // Update weighted progress display
    const updateWeightedProgress = (data: any) => {
      if (!weightedProgressEl || !lastUpdatedEl) return;

      const weighted = calculateWeightedProgress(data.goals);
      weightedProgressEl.textContent = `${weighted}%`;
      lastUpdatedEl.textContent = data.lastUpdated || "-";

      // Update progress bar
      const progressBar = document.getElementById("weighted-progress-bar");
      if (progressBar) {
        progressBar.style.width = `${weighted}%`;
      }
    };

    // Tab switching functionality
    const setupTabs = () => {
      const tabButtons = document.querySelectorAll(".goals-tab-btn");
      const tabContents = document.querySelectorAll(".goals-tab-content");

      tabButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const targetTab = btn.getAttribute("data-tab");

          // Update button styles
          tabButtons.forEach((b) => {
            b.classList.remove(
              "text-white",
              "border-purple-500",
              "bg-purple-900/30"
            );
            b.classList.add("text-gray-400", "border-transparent");
          });
          btn.classList.remove("text-gray-400", "border-transparent");
          btn.classList.add(
            "text-white",
            "border-purple-500",
            "bg-purple-900/30"
          );

          // Update content visibility
          tabContents.forEach((content) => {
            if (content.getAttribute("data-tab") === targetTab) {
              content.classList.remove("hidden");
            } else {
              content.classList.add("hidden");
            }
          });
        });
      });
    };

    // Initialize charts (both overview and detailed)
    const initCharts = async (data: any) => {
      await loadChartJS();

      const Chart = (window as any).Chart;

      const chartConfig = {
        type: "radar",
        data: {
          labels: data.goals.map(
            (g: any) => `${goalEmojis[g.id] || "üéØ"} ${g.id}`
          ),
          datasets: [
            {
              label: "Progreso (%)",
              data: data.goals.map((g: any) => g.progress),
              backgroundColor: "rgba(147, 51, 234, 0.2)",
              borderColor: "rgba(147, 51, 234, 1)",
              borderWidth: 2,
              pointBackgroundColor: "rgba(147, 51, 234, 1)",
              pointBorderColor: "#fff",
              pointHoverBackgroundColor: "#fff",
              pointHoverBorderColor: "rgba(147, 51, 234, 1)",
              pointRadius: 5,
              pointHoverRadius: 7,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              beginAtZero: true,
              max: 100,
              ticks: {
                stepSize: 20,
                color: "#9ca3af",
                backdropColor: "transparent",
                callback: function (value: any) {
                  return value + "%";
                },
              },
              grid: {
                color: "rgba(75, 85, 99, 0.3)",
              },
              pointLabels: {
                color: "#e5e7eb",
                font: {
                  size: 10,
                  weight: "bold",
                },
              },
            },
          },
          plugins: {
            legend: {
              labels: {
                color: "#e5e7eb",
                font: {
                  size: 12,
                },
              },
            },
            tooltip: {
              callbacks: {
                label: function (context: any) {
                  const goal = data.goals[context.dataIndex];
                  return [
                    `Progreso: ${context.parsed.r}%`,
                    `Peso: ${goal.weight}%`,
                    `Contribuci√≥n: ${((goal.weight * goal.progress) / 100).toFixed(1)}pts`,
                  ];
                },
                title: function (context: any) {
                  const goal = data.goals[context[0].dataIndex];
                  return goal.title;
                },
              },
            },
          },
        },
      };

      // Overview chart (smaller)
      const overviewCanvas = document.getElementById(
        "goals-chart-overview"
      ) as HTMLCanvasElement;
      if (overviewCanvas) {
        const ctxOverview = overviewCanvas.getContext("2d");
        if (ctxOverview) {
          new Chart(ctxOverview, chartConfig);
        }
      }

      // Main chart (larger, in chart tab)
      const ctx = chartCanvas.getContext("2d");
      if (ctx) {
        goalsChart = new Chart(ctx, chartConfig);
      }
    };

    // Update chart when progress inputs change
    const setupProgressInputs = () => {
      const progressInputs = document.querySelectorAll(".goal-progress");

      progressInputs.forEach((input) => {
        input.addEventListener("input", (e) => {
          const target = e.target as HTMLInputElement;
          const goalIndex = parseInt(target.getAttribute("data-goal") || "0");
          const newValue = parseInt(target.value) || 0;

          // Update progress bar
          const progressBar = target
            .closest(".goal-item")
            ?.querySelector(".goal-progress-bar") as HTMLElement;
          if (progressBar) {
            progressBar.style.width = `${newValue}%`;
          }

          // Update chart
          if (goalsChart && strategicData) {
            goalsChart.data.datasets[0].data[goalIndex] = newValue;
            goalsChart.update();

            // Update weighted progress
            strategicData.goals[goalIndex].progress = newValue;
            updateWeightedProgress(strategicData);
          }
        });
      });
    };

    // Open modal
    goalsBtn?.addEventListener("click", async () => {
      goalsModal?.classList.remove("hidden");
      goalsModal?.classList.add("flex");

      if (!goalsChart) {
        strategicData = await loadGoalsData();

        if (strategicData) {
          // Render all views
          renderAxes(strategicData.axes);
          renderAxesDetail(strategicData);
          renderGoals(strategicData);
          updateWeightedProgress(strategicData);

          // Initialize charts
          await initCharts(strategicData);

          // Setup interactivity
          setupProgressInputs();
          setupTabs();
        }
      }
    });

    // Close modal
    const closeModal = () => {
      goalsModal?.classList.add("hidden");
      goalsModal?.classList.remove("flex");
    };

    closeGoalsBtn?.addEventListener("click", closeModal);

    // Close when clicking outside
    goalsModal?.addEventListener("click", (e) => {
      if (e.target === goalsModal) {
        closeModal();
      }
    });

    // Close with Escape key
    document.addEventListener("keydown", (e) => {
      if (
        e.key === "Escape" &&
        goalsModal &&
        !goalsModal.classList.contains("hidden")
      ) {
        closeModal();
      }
    });
  });

  // Accessibility Modal functionality
  document.addEventListener("DOMContentLoaded", () => {
    const accessibilityBtn = document.getElementById("accessibility-btn");
    const accessibilityModal = document.getElementById("accessibility-modal");
    const closeAccessibilityBtn = document.getElementById(
      "close-accessibility-modal"
    );

    // Load saved preferences
    const loadPreferences = () => {
      const fontSize = localStorage.getItem("fontSize") || "normal";
      const highContrast = localStorage.getItem("highContrast") === "true";
      const reduceMotion = localStorage.getItem("reduceMotion") === "true";
      const focusIndicators =
        localStorage.getItem("focusIndicators") !== "false";

      applyFontSize(fontSize);
      applyHighContrast(highContrast);
      applyReduceMotion(reduceMotion);
      applyFocusIndicators(focusIndicators);

      // Update UI
      document
        .getElementById("high-contrast-toggle")
        ?.setAttribute("checked", highContrast ? "checked" : "");
      document
        .getElementById("reduce-motion-toggle")
        ?.setAttribute("checked", reduceMotion ? "checked" : "");
      document
        .getElementById("focus-indicators-toggle")
        ?.setAttribute("checked", focusIndicators ? "checked" : "");
    };

    // Font Size
    const applyFontSize = (size: string) => {
      document.documentElement.classList.remove("text-small", "text-large");
      if (size === "small")
        document.documentElement.classList.add("text-small");
      if (size === "large")
        document.documentElement.classList.add("text-large");

      document.querySelectorAll(".font-size-btn").forEach((btn) => {
        btn.classList.remove("bg-blue-600");
        btn.classList.add("bg-gray-800");
        if (btn.getAttribute("data-size") === size) {
          btn.classList.remove("bg-gray-800");
          btn.classList.add("bg-blue-600");
        }
      });
    };

    document.querySelectorAll(".font-size-btn").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        const size =
          (e.target as HTMLElement).getAttribute("data-size") || "normal";
        applyFontSize(size);
        localStorage.setItem("fontSize", size);
      });
    });

    // High Contrast
    const applyHighContrast = (enabled: boolean) => {
      if (enabled) {
        document.documentElement.classList.add("high-contrast");
      } else {
        document.documentElement.classList.remove("high-contrast");
      }
    };

    document
      .getElementById("high-contrast-toggle")
      ?.addEventListener("change", (e) => {
        const enabled = (e.target as HTMLInputElement).checked;
        applyHighContrast(enabled);
        localStorage.setItem("highContrast", enabled.toString());
      });

    // Reduce Motion
    const applyReduceMotion = (enabled: boolean) => {
      if (enabled) {
        document.documentElement.classList.add("reduce-motion");
      } else {
        document.documentElement.classList.remove("reduce-motion");
      }
    };

    document
      .getElementById("reduce-motion-toggle")
      ?.addEventListener("change", (e) => {
        const enabled = (e.target as HTMLInputElement).checked;
        applyReduceMotion(enabled);
        localStorage.setItem("reduceMotion", enabled.toString());
      });

    // Focus Indicators
    const applyFocusIndicators = (enabled: boolean) => {
      if (enabled) {
        document.documentElement.classList.add("focus-indicators");
      } else {
        document.documentElement.classList.remove("focus-indicators");
      }
    };

    document
      .getElementById("focus-indicators-toggle")
      ?.addEventListener("change", (e) => {
        const enabled = (e.target as HTMLInputElement).checked;
        applyFocusIndicators(enabled);
        localStorage.setItem("focusIndicators", enabled.toString());
      });

    // Open/Close modal
    accessibilityBtn?.addEventListener("click", () => {
      accessibilityModal?.classList.remove("hidden");
      accessibilityModal?.classList.add("flex");
    });

    const closeAccessibilityModal = () => {
      accessibilityModal?.classList.add("hidden");
      accessibilityModal?.classList.remove("flex");
    };

    closeAccessibilityBtn?.addEventListener("click", closeAccessibilityModal);

    accessibilityModal?.addEventListener("click", (e) => {
      if (e.target === accessibilityModal) {
        closeAccessibilityModal();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (
        e.key === "Escape" &&
        accessibilityModal &&
        !accessibilityModal.classList.contains("hidden")
      ) {
        closeAccessibilityModal();
      }
    });

    // Load preferences on page load
    loadPreferences();
  });
</script>

<style>
  /* FAQ Accordion Styles */
  .faq-icon {
    transition: transform 0.3s ease-in-out;
  }

  .faq-answer {
    transition: max-height 0.3s ease-in-out;
  }

  /* Crossfade Container */
  .crossfade-container {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .crossfade-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 2s ease-in-out;
  }

  .crossfade-image.active {
    opacity: 1;
    z-index: 2;
  }

  /* Hero Text Animation */
  .hero-text {
    animation: fadeInUp 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Cursor Follower */
  .cursor-follower {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .cursor-follower.active {
    opacity: 1;
  }

  .cursor-follower span {
    display: inline-block;
    padding: 12px 24px;
    background: linear-gradient(135deg, var(--primary-color) 0%, #9333ea 100%);
    color: white;
    border-radius: 50px;
    font-size: 14px;
    font-weight: 600;
    white-space: nowrap;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.5px;
    font-family: "Inter Tight", system-ui, sans-serif;
    animation: fadeInScale 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .cursor-hover-target {
    cursor: pointer;
  }

  /* Hide cursor follower on touch devices */
  @media (none) and (pointer: coarse) {
    .cursor-follower {
      display: none !important;
    }
  }

  /* Optional: Hide default cursor on hover targets for desktop */
  @media (hover) and (pointer: fine) {
    .cursor-hover-target:hover {
      cursor: none;
    }
  }

  /* Mascotas grandes y claras */
  .mascot-big {
    transition:
      transform 0.3s ease,
      filter 0.3s ease;
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
  }

  .mascot-big:hover {
    transform: scale(1.05) !important;
  }

  .mascot-left {
    animation: floatLeft 6s infinite;
  }

  .mascot-right {
    animation: floatRight 6s infinite;
    animation-delay: -3s;
  }

  /* Animaciones suaves de flotaci√≥n */
  @keyframes floatLeft {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(3deg);
    }
  }

  @keyframes floatRight {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(-3deg);
    }
  }

  /* Contenedores de mascotas */
  .mascot-container-left,
  .mascot-container-right {
    position: relative;
    z-index: 10;
  }

  /* Responsive: Ajustar tama√±o en m√≥viles */
  @media (max-width: 768px) {
    .mascot-big {
      max-width: 180px;
    }
  }

  @media (max-width: 480px) {
    .mascot-big {
      max-width: 140px;
    }
  }

  /* Animaciones de gradiente */
  @keyframes gradient {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 8s ease infinite;
  }

  .animate-gradient-reverse {
    background-size: 200% 200%;
    animation: gradient 8s ease infinite reverse;
  }

  /* Animaci√≥n de flotaci√≥n */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-20px) rotate(3deg);
    }
    66% {
      transform: translateY(-10px) rotate(-3deg);
    }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Transiciones suaves para parallax */
  .parallax-element,
  .parallax-mascot,
  .parallax-quote,
  .parallax-author,
  .parallax-decorations,
  .parallax-profile,
  .parallax-audio,
  .parallax-content,
  .parallax-contact-title,
  .parallax-contact-desc,
  .parallax-contact-cards,
  .parallax-contact-social,
  .parallax-contact-form,
  .parallax-husky,
  .parallax-image-container,
  .parallax-lifestyle-title,
  .parallax-lifestyle-content,
  .parallax-lifestyle-decorations {
    will-change: transform;
    transition: transform 0.1s ease-out;
  }

  /* Animaci√≥n de spin lento */
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 20s linear infinite;
  }

  /* Animaci√≥n de modal */
  @keyframes modal-in {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-in {
    animation: modal-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
</style>

<script>
  function initParallax() {
    const parallaxElements = document.querySelectorAll("[data-speed]");

    if (parallaxElements.length === 0) return;

    let ticking = false;

    function updateParallax() {
      const scrollTop =
        window.pageYOffset || document.documentElement.scrollTop;
      const windowHeight = window.innerHeight;

      parallaxElements.forEach((element) => {
        const speed = parseFloat(element.getAttribute("data-speed") || "0.5");
        const elementTop = element.getBoundingClientRect().top + scrollTop;
        const elementHeight = element.offsetHeight;

        if (
          scrollTop + windowHeight > elementTop &&
          scrollTop < elementTop + elementHeight
        ) {
          const yPos = (scrollTop - elementTop) * speed;
          element.style.transform = `translate3d(0, ${yPos}px, 0)`;
        }
      });

      ticking = false;
    }

    function requestTick() {
      if (!ticking) {
        window.requestAnimationFrame(updateParallax);
        ticking = true;
      }
    }

    window.addEventListener("scroll", requestTick, { passive: true });
    updateParallax();
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initParallax);
  } else {
    initParallax();
  }

  function initTrajectoryAudioPlayer() {
    const playerContainer = document.querySelector(".audio-player-trajectory");
    if (!playerContainer) return;

    const audio = playerContainer.querySelector("audio") as HTMLAudioElement;
    const playBtn = playerContainer.querySelector(
      ".play-btn-trajectory"
    ) as HTMLButtonElement;
    const stopBtn = playerContainer.querySelector(
      ".stop-btn-trajectory"
    ) as HTMLButtonElement;
    const playIcon = playerContainer.querySelector(
      ".play-icon-trajectory"
    ) as HTMLElement;
    const pauseIcon = playerContainer.querySelector(
      ".pause-icon-trajectory"
    ) as HTMLElement;
    const progressBar = playerContainer.querySelector(
      ".progress-bar-trajectory"
    ) as HTMLElement;
    const progressContainer = playerContainer.querySelector(
      ".progress-container-trajectory"
    ) as HTMLElement;
    const currentTimeEl = playerContainer.querySelector(
      ".current-time-trajectory"
    ) as HTMLElement;
    const durationTimeEl = playerContainer.querySelector(
      ".duration-time-trajectory"
    ) as HTMLElement;

    if (!audio) return;

    const formatTime = (seconds: number) => {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, "0")}`;
    };

    audio.addEventListener("loadedmetadata", () => {
      durationTimeEl.textContent = formatTime(audio.duration);
    });

    audio.addEventListener("timeupdate", () => {
      const progress = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = `${progress}%`;
      currentTimeEl.textContent = formatTime(audio.currentTime);
    });

    playBtn.addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        playIcon.classList.add("hidden");
        pauseIcon.classList.remove("hidden");
      } else {
        audio.pause();
        playIcon.classList.remove("hidden");
        pauseIcon.classList.add("hidden");
      }
    });

    stopBtn.addEventListener("click", () => {
      audio.pause();
      audio.currentTime = 0;
      playIcon.classList.remove("hidden");
      pauseIcon.classList.add("hidden");
      progressBar.style.width = "0%";
      currentTimeEl.textContent = "0:00";
    });

    progressContainer.addEventListener("click", (e) => {
      const rect = progressContainer.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const percentage = clickX / rect.width;
      audio.currentTime = percentage * audio.duration;
    });

    audio.addEventListener("ended", () => {
      playIcon.classList.remove("hidden");
      pauseIcon.classList.add("hidden");
      audio.currentTime = 0;
      progressBar.style.width = "0%";
      currentTimeEl.textContent = "0:00";
    });
  }

  function initCVDownloadModal() {
    const downloadBtn = document.getElementById("download-cv-btn");
    const modal = document.getElementById("cv-download-modal");
    const closeBtn = document.getElementById("close-modal-btn");
    const form = document.getElementById("cv-download-form");
    const successMessage = document.getElementById("cv-success-message");

    if (!downloadBtn || !modal || !closeBtn || !form) return;

    downloadBtn.addEventListener("click", () => {
      modal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    });

    closeBtn.addEventListener("click", () => {
      modal.classList.add("hidden");
      document.body.style.overflow = "";
      form.reset();
      successMessage?.classList.add("hidden");
    });

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.classList.add("hidden");
        document.body.style.overflow = "";
        form.reset();
        successMessage?.classList.add("hidden");
      }
    });

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const emailInput = document.getElementById(
        "cv-email-input"
      ) as HTMLInputElement;
      const consentCheckbox = document.getElementById(
        "cv-consent-checkbox"
      ) as HTMLInputElement;
      const submitButton = form.querySelector(
        'button[type="submit"]'
      ) as HTMLButtonElement;

      if (!emailInput.value || !consentCheckbox.checked) {
        alert("Por favor completa todos los campos");
        return;
      }

      // Disable button and show loading
      const originalButtonText = submitButton.innerHTML;
      submitButton.disabled = true;
      submitButton.innerHTML = `
        <span class="flex items-center gap-2 justify-center">
          <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span>Enviando confirmaci√≥n...</span>
        </span>
      `;

      try {
        // Enviar solicitud de CV al backend
        const response = await fetch(getApiUrl("/api/download-cv"), {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            name: emailInput.value.split('@')[0], // Extraer nombre del email
            email: emailInput.value
          }),
        });

        const result = await response.json();

        if (result.success) {
          // Mostrar mensaje de √©xito
          successMessage?.classList.remove("hidden");

          // Si hay URL del CV, descargarlo directamente
          if (result.cvUrl) {
            const link = document.createElement("a");
            link.href = result.cvUrl;
            link.download = "Yusef_Gonzalez_CV.pdf";
            link.target = "_blank";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          }

          setTimeout(() => {
            modal.classList.add("hidden");
            document.body.style.overflow = "";
            form.reset();
            successMessage?.classList.add("hidden");
            submitButton.disabled = false;
            submitButton.innerHTML = originalButtonText;
          }, 3000);
        } else {
          throw new Error(result.error || "Error al solicitar el CV");
        }
      } catch (error) {
        console.error("Error downloading CV:", error);
        alert("Error al procesar la descarga. Por favor intenta nuevamente.");
        submitButton.disabled = false;
        submitButton.innerHTML = originalButtonText;
      }
    });
  }

  // Hover Image Follower Effect
  function initHoverImageFollower() {
    // Crear el contenedor para la imagen flotante
    const followerImage = document.createElement("img");
    followerImage.id = "hover-follower-image";
    followerImage.style.cssText = `
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      width: 250px;
      height: 250px;
      object-fit: cover;
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
      transform: translate(-50%, -50%) scale(0.8);
      border-radius: 50%;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6), 0 0 0 4px rgba(0, 0, 0, 0.4), inset 0 0 30px rgba(0, 0, 0, 0.3);
      border: 5px solid rgba(0, 0, 0, 0.5);
    `;
    document.body.appendChild(followerImage);

    let hideTimeout: number | null = null;
    let currentElement: HTMLElement | null = null;

    // Funci√≥n para mostrar la imagen
    function showFollowerImage(imageSrc: string, x: number, y: number) {
      followerImage.src = imageSrc;
      followerImage.style.left = `${x}px`;
      followerImage.style.top = `${y}px`;
      followerImage.style.opacity = "1";
      followerImage.style.transform = "translate(-50%, -50%) scale(1)";

      // Limpiar timeout anterior si existe
      if (hideTimeout) {
        clearTimeout(hideTimeout);
      }

      // Ocultar despu√©s de 5 segundos
      hideTimeout = window.setTimeout(() => {
        followerImage.style.opacity = "0";
        followerImage.style.transform = "translate(-50%, -50%) scale(0.8)";
      }, 5000);
    }

    // Funci√≥n para ocultar la imagen
    function hideFollowerImage() {
      followerImage.style.opacity = "0";
      followerImage.style.transform = "translate(-50%, -50%) scale(0.8)";
      if (hideTimeout) {
        clearTimeout(hideTimeout);
        hideTimeout = null;
      }
    }

    // Actualizar posici√≥n del mouse
    function updatePosition(e: MouseEvent) {
      if (currentElement && followerImage.style.opacity === "1") {
        followerImage.style.left = `${e.clientX}px`;
        followerImage.style.top = `${e.clientY}px`;
      }
    }

    // Agregar event listeners a todos los elementos con hover-trigger-image
    document.querySelectorAll(".hover-trigger-image").forEach((element) => {
      const htmlElement = element as HTMLElement;
      const hoverImageSrc = htmlElement.getAttribute("data-hover-image");

      if (hoverImageSrc) {
        // Mouse enter - mostrar imagen
        htmlElement.addEventListener("mouseenter", (e: Event) => {
          const mouseEvent = e as MouseEvent;
          currentElement = htmlElement;
          showFollowerImage(
            hoverImageSrc,
            mouseEvent.clientX,
            mouseEvent.clientY
          );
        });

        // Mouse move - actualizar posici√≥n
        htmlElement.addEventListener("mousemove", updatePosition);

        // Mouse leave - ocultar imagen
        htmlElement.addEventListener("mouseleave", () => {
          currentElement = null;
          hideFollowerImage();
        });
      }
    });
  }

  // Contact Form Handling
  function initContactForm() {
    const contactForm = document.getElementById(
      "contact-form"
    ) as HTMLFormElement;
    const statusMessage = document.getElementById(
      "contact-status-message"
    ) as HTMLDivElement;

    if (!contactForm || !statusMessage) return;

    contactForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData(contactForm);
      const data = {
        name: formData.get("name") as string,
        email: formData.get("email") as string,
        message: formData.get("message") as string,
      };

      // Deshabilitar bot√≥n mientras se env√≠a
      const submitButton = contactForm.querySelector(
        'button[type="submit"]'
      ) as HTMLButtonElement;
      const originalButtonText = submitButton.innerHTML;
      submitButton.disabled = true;
      submitButton.innerHTML = `
        <span class="relative z-10 flex items-center gap-3">
          <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span>Enviando...</span>
        </span>
      `;

      try {
        const response = await fetch("/api/send-email", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        });

        const result = await response.json();

        if (result.success) {
          // Mostrar mensaje de √©xito
          statusMessage.className =
            "mt-6 p-4 rounded-xl text-center bg-green-900/20 border-2 border-green-500 text-green-400";
          statusMessage.innerHTML = `
            <div class="flex items-center justify-center gap-2">
              <span class="material-symbols-outlined">check_circle</span>
              <span class="font-semibold">¬°Mensaje enviado correctamente! Te responder√© pronto.</span>
            </div>
          `;
          statusMessage.classList.remove("hidden");

          // Limpiar formulario
          contactForm.reset();

          // Ocultar mensaje despu√©s de 5 segundos
          setTimeout(() => {
            statusMessage.classList.add("hidden");
          }, 5000);
        } else {
          throw new Error(result.error || "Error al enviar el mensaje");
        }
      } catch (error) {
        // Mostrar mensaje de error
        statusMessage.className =
          "mt-6 p-4 rounded-xl text-center bg-red-900/20 border-2 border-red-500 text-red-400";
        statusMessage.innerHTML = `
          <div class="flex items-center justify-center gap-2">
            <span class="material-symbols-outlined">error</span>
            <span class="font-semibold">Error al enviar el mensaje. Por favor, intenta nuevamente.</span>
          </div>
        `;
        statusMessage.classList.remove("hidden");

        console.error("Error sending email:", error);

        // Ocultar mensaje despu√©s de 5 segundos
        setTimeout(() => {
          statusMessage.classList.add("hidden");
        }, 5000);
      } finally {
        // Restaurar bot√≥n
        submitButton.disabled = false;
        submitButton.innerHTML = originalButtonText;
      }
    });
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => {
      initTrajectoryAudioPlayer();
      initCVDownloadModal();
      initHoverImageFollower();
      initContactForm();
    });
  } else {
    initTrajectoryAudioPlayer();
    initCVDownloadModal();
    initHoverImageFollower();
    initContactForm();
  }
</script>
